<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Train Exchange</title>
    <style>
        #container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 20px;
        }
        #totalMoney {
            margin-bottom: 10px;
        }
        #trainMarket {
            display: flex;
            flex-direction: column; /* Zobrazení vlaků pod sebou */
            align-items: center;
        }
        .train {
            border: 1px solid #ccc;
            padding: 10px;
            text-align: center;
            margin-bottom: 10px; /* Oddělení vlaků */
        }
        .portfolio {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
        }
        .portfolio li {
            flex: 0 0 48%; /* Omezení šířky na 48% pro lepší uspořádání na malých obrazovkách */
            margin-bottom: 10px;
        }
        @media (max-width: 768px) {
            .portfolio li {
                flex: 0 0 100%; /* Na malých obrazovkách zobrazit jeden pod druhým */
            }
        }
    </style>
</head>
<body>

    <h1>Train Exchange</h1>
    <div id="container">
        <p>Total Money: $<span id="totalMoney">10000</span></p>
        <div id="trainMarket"></div>
    </div>
    <div>
        <h2>Your Portfolio</h2>
        <ul id="portfolio" class="portfolio"></ul>
    </div>

    <script>
        const trainMarketElement = document.getElementById('trainMarket');
        const portfolioElement = document.getElementById('portfolio');
        const totalMoneyElement = document.getElementById('totalMoney');

        let money = 10000;
        let portfolio = [];

      const trains = [
            { id: 622, image: 'https://i.imgur.com/9gI6buP.png', description: 'Train 622', basePrice: 2000 },
            { id: 61, image: 'https://i.imgur.com/ELbeAkI.png', description: 'Train 61', basePrice: 1500 },
            { id: 1038, image: 'https://i.imgur.com/Ll9Fa7s.png', description: 'Train 1038', basePrice: 2500 },
            { id: 1795, image: 'https://i.imgur.com/IPL5P9P.png', description: 'Train 1795', basePrice: 43000 },
            { id: 9999, image: 'https://i.imgur.com/XbzFNiC.png', description: 'Southern Express', basePrice: 5000 },
            { id: 1, image: 'https://i.imgur.com/U3EmWzR.png', description: 'SNCF B 82500 (BiBi) TER Poitou Charentes', basePrice: 12000 },
            { id: 2, image: 'https://i.imgur.com/FHJVLeg.png', description: 'SNCF B 83500', basePrice: 11800 },
            { id: 3, image: 'https://i.imgur.com/vWdHlcn.png', description: 'FS E424.200 XMPR', basePrice: 4200 },
            { id: 4, image: 'https://i.imgur.com/amzzO2P.png', description: 'SNCF RIO Metrolor', basePrice: 3500 },
            { id: 5, image: 'https://i.imgur.com/FQtW76Q.png', description: 'SNCF X 2800 r nov ', basePrice: 1750 },
            { id: 6, image: 'https://i.imgur.com/nRxNrof.png', description: 'Southern Class 377/1-4', basePrice: 9200 },
            { id: 7, image: 'https://i.imgur.com/tScXMwO.png', description: 'FS MDVC nB XMPR', basePrice: 500 },
            { id: 8, image: 'https://i.imgur.com/3w7kBqh.png', description: 'SNCF Corail VTU B9?tu Carmillon', basePrice: 500 },
            { id: 9, image: 'https://i.imgur.com/GcAWhm6.png', description: 'SNCF X 74500', basePrice: 4000 },
            { id: 10, image: 'https://i.imgur.com/98FnBRe.png', description: 'DB BR 481.5', basePrice: 15000 },
            { id: 11, image: 'https://i.imgur.com/HpD2M1w.png', description: 'SNCF CIC Haute Normandie Corail VTU A10', basePrice: 500 },
            { id: 12, image: 'https://i.imgur.com/tssoP6W.png', description: 'Siemens Vectron', basePrice: 50000 },
            { id: 13, image: 'https://i.imgur.com/NRSCN6g.png', description: 'NS DDZ 7600', basePrice: 28000 },
            { id: 14, image: 'https://i.imgur.com/YD0yMWc.png', description: 'SNCF X 73500 Metrolor ex-CFL', basePrice: 2500 },
            { id: 15, image: 'https://i.imgur.com/ChjZOuH.png', description: 'SNCF Z 55500 TER NPDC', basePrice: 17000 },
            { id: 16, image: 'https://i.imgur.com/a4zou8X.png', description: 'DB BR 627.0 Verkehrsrot', basePrice: 1700 },
            { id: 17, image: 'https://i.imgur.com/b7VsBLO.png', description: 'SNCB M6 ABD', basePrice: 700 },
            { id: 18, image: 'https://i.imgur.com/stHH2OH.png', description: 'DB BR 143 Orientrot', basePrice: 7000 },
            { id: 19, image: 'https://i.imgur.com/nKisySR.png', description: 'SNCF VO2N TER Centre', basePrice: 27000 },
            { id: 20, image: 'https://i.imgur.com/gRZMgLJ.png', description: 'NS ICM (4r)', basePrice: 25500 },
            { id: 21, image: 'https://i.imgur.com/7Sw3tB5.png', description: 'DSB BR 605 (ICE TD)', basePrice: 55500 },
            { id: 22, image: 'https://i.imgur.com/wybIi7m.png', description: 'Renfe Talgo III RD', basePrice: 34500 },
            { id: 23, image: 'https://i.imgur.com/OHtLLXG.png', description: 'GNER Mk3 TS', basePrice: 580 },
            { id: 24, image: 'https://i.imgur.com/jTwS7jK.png', description: 'SNCF X 240 (II) TER Centre', basePrice: 3580 },
            { id: 25, image: 'https://i.imgur.com/td37yv4.png', description: 'SNCF Corail TER VU B11', basePrice: 520 },
            { id: 26, image: 'https://i.imgur.com/TlEnswx.png', description: 'SNCF BB 67300', basePrice: 37000 },
            { id: 27, image: 'https://i.imgur.com/WakoZ0Y.png', description: 'Connex BR 185-CL', basePrice: 41800 },
            { id: 28, image: 'https://i.imgur.com/10mh8rb.png', description: 'SNCF VB2N IdF (6c)', basePrice: 31500 },
            { id: 29, image: 'https://i.imgur.com/qTWIlf6.png', description: 'SATTI ALe 056', basePrice: 5800 },
            { id: 30, image: 'https://i.imgur.com/WfZZVVh.png', description: ' BB 1044.0 Valousek', basePrice: 25000 },
            { id: 31, image: 'https://i.imgur.com/YKzGstl.png', description: 'SNCF TBB 64800 Fret', basePrice: 1000 },  
            { id: 32, image: 'https://i.imgur.com/jWwJrxE.png', description: 'SNCF Corail VTU A5B5', basePrice: 550 },
            { id: 33, image: 'https://i.imgur.com/DcBxZVf.png', description: 'NS ICR A', basePrice: 550 },
            { id: 34, image: 'https://i.imgur.com/jRBTWeP.png', description: 'DB ARmz 211 Neue Bahn', basePrice: 560 },
            { id: 35, image: 'https://i.imgur.com/c2qhrUS.png', description: 'DB BR 641 (einklassiger)', basePrice: 4560 },
            { id: 36, image: 'https://i.imgur.com/nzbmopV.png', description: 'SNCF Z 21500 TER Aquitaine', basePrice: 14560 },
            { id: 37, image: 'https://i.imgur.com/ToW5XMa.png', description: 'DB WRkmz 858 CNL', basePrice: 530 },
            { id: 38, image: 'https://i.imgur.com/sAiuFSX.png', description: 'DB Bpmz 291 Blau-Beige', basePrice: 530 },
            { id: 39, image: 'https://i.imgur.com/HZkwLJP.png', description: 'DB BR 420 Verkehrsrot', basePrice: 14830 },
            { id: 40, image: 'https://i.imgur.com/NHnRECO.png', description: 'SNCF Tombereau E74', basePrice: 1100 },
            { id: 41, image: 'https://i.imgur.com/Qqp0tMx.png', description: 'Fyra (rame tract e)', basePrice: 51100 },
            { id: 42, image: 'https://i.imgur.com/gD72anQ.png', description: ' BB Modularwagen Bcm', basePrice: 620 },
            { id: 43, image: 'https://i.imgur.com/Nb44nzp.png', description: ' BB 1216 RailJet', basePrice: 60000 },
            { id: 44, image: 'https://i.imgur.com/EwM9TPi.png', description: 'ANF60', basePrice: 1245 },
            { id: 45, image: 'https://i.imgur.com/Zg8G9Bp.png', description: 'SNCF Plat S73', basePrice: 1000 },
            { id: 46, image: 'https://i.imgur.com/ZO59DC3.png', description: 'Alex EuroThurbo ER20', basePrice: 61000 },
            { id: 47, image: 'https://i.imgur.com/YuLiLFR.png', description: 'NS ICE 3M', basePrice: 85000 },
            { id: 48, image: 'https://i.imgur.com/if1ocPN.png', description: 'Colas Rail DE18', basePrice: 18500 },
            { id: 49, image: 'https://i.imgur.com/vZ7dF0X.png', description: 'SNCF RIO NPDC', basePrice: 22500 },
            { id: 50, image: 'https://i.imgur.com/o8BBH52.png', description: 'SNCB Shimmns 3614 D5', basePrice: 500 },
            { id: 51, image: 'https://i.imgur.com/NRsEr8G.png', description: 'East Coast Mk4 TSO', basePrice: 700 },
            { id: 52, image: 'https://i.imgur.com/01m4frV.png', description: 'Renfe S9450 DG9 Danone', basePrice: 580 },
            { id: 53, image: 'https://i.imgur.com/1BbXGy1.png', description: 'RZD WLABm 78 Golubo?j-Be?lyj', basePrice: 550 },
            { id: 54, image: 'https://i.imgur.com/a5GlKrc.png', description: 'SNCB I6 B C1', basePrice: 550 },
            { id: 55, image: 'https://i.imgur.com/Dlebfrl.png', description: 'DB Laeeks 553', basePrice: 1150 },
            { id: 56, image: 'https://i.imgur.com/yM4GBJP.png', description: 'Cisalpino EC Bpm', basePrice: 650 },
            { id: 57, image: 'https://i.imgur.com/vZ7iscK.png', description: 'SNCB M4 B r nov e', basePrice: 550 },
            { id: 58, image: 'https://i.imgur.com/2XWQlv9.png', description: 'SNCF Corail Lun a VU B7ux Carmillon', basePrice: 600 },
            { id: 59, image: 'https://i.imgur.com/qwfODWd.png', description: 'NS 1600-1700-1800', basePrice: 31150 },
            { id: 60, image: 'https://i.imgur.com/3IuJFnd.png', description: 'Thello UIC-X Bc XMPR', basePrice: 555 },
            { id: 62, image: 'https://i.imgur.com/uG4XSKX.png', description: 'SNCF U25500 Transilien', basePrice: 7150 },
            { id: 63, image: 'https://i.imgur.com/o3xKVGA.png', description: 'DB BR 612 Bayern', basePrice: 6750 },
            { id: 64, image: 'https://i.imgur.com/yAI9Wa0.png', description: 'SNCF XR 6100 TER Midi-Pyr n es origine', basePrice: 4550 },
            { id: 65, image: 'https://i.imgur.com/tf5K87a.png', description: 'CFF VU I A IR', basePrice: 540 },
            { id: 66, image: 'https://i.imgur.com/LLfiPSb.png', description: 'Railpool BR 185.2', basePrice: 45540 },
            { id: 67, image: 'https://i.imgur.com/9noCS41.png', description: 'SNCF X 72500 Intercit s', basePrice: 22540 },
            { id: 68, image: 'https://i.imgur.com/vqGNcx2.png', description: 'SNCF BB 36300', basePrice: 52540 },
            { id: 69, image: 'https://i.imgur.com/wB7kTvQ.png', description: 'CFF RBe 540', basePrice: 4580 },
            { id: 70, image: 'https://i.imgur.com/v3GkZaW.png', description: 'NxEA Class 90 grey', basePrice: 57380 },
            { id: 71, image: 'https://i.imgur.com/wZmhUYi.png', description: ' BB 5022', basePrice: 7520 },
            { id: 72, image: 'https://i.imgur.com/D5W9VQQ.png', description: 'MthB-Thurbo Bm 596', basePrice: 5200 },
            { id: 73, image: 'https://i.imgur.com/ixfcPiS.png', description: 'DB BR 629', basePrice: 3800 },
            { id: 74, image: 'https://i.imgur.com/207LM4e.png', description: 'Alex BR 183', basePrice: 54800 },
            { id: 75, image: 'https://i.imgur.com/KktsiJC.png', description: 'MRCE ES64P', basePrice: 58300 },
            { id: 76, image: 'https://i.imgur.com/KkDJ9AL.png', description: 'DB BR 234 Orientrot', basePrice: 44300 },
            { id: 77, image: 'https://i.imgur.com/IW3UdUc.png', description: 'BR Class 373 "NOL"', basePrice: 125000 },
            { id: 78, image: 'https://i.imgur.com/y0KLGkL.png', description: 'Locon BR 185.5', basePrice: 64800 },
            { id: 79, image: 'https://i.imgur.com/8AgtUgS.png', description: 'Akiem BB 75000', basePrice: 37000 },
            { id: 80, image: 'https://i.imgur.com/nXOFs1V.png', description: 'Fyra E186', basePrice: 48600 },
            { id: 81, image: 'https://i.imgur.com/Fwvwo8C.png', description: 'Alpha Trains BR 185.2', basePrice: 53600 },
           
        
            
        ];

        function generateRandomTrain() {
            const randomTrain = trains[Math.floor(Math.random() * trains.length)];
            const train = {
                id: randomTrain.id,
                image: randomTrain.image,
                description: randomTrain.description,
                price: Math.floor(randomTrain.basePrice * (Math.random() * 0.1 + 0.95)), // Cena o 5-10% vyšší
            };
            return train;
        }

        function displayTrains() {
            trainMarketElement.innerHTML = '';
            for (let i = 0; i < 3; i++) {
                const train = generateRandomTrain();
                const trainElement = document.createElement('div');
                trainElement.classList.add('train');
                trainElement.innerHTML = `
                    <img src="${train.image}" alt="${train.description}">
                    <p>${train.description}</p>
                    <p>Price: $${train.price}</p>
                    <button onclick="buyTrain(${train.id})">Buy</button>
                `;
                trainMarketElement.appendChild(trainElement);
            }
        }

        function buyTrain(trainId) {
            const selectedTrain = trains.find(train => train.id === trainId);
            if (money >= selectedTrain.basePrice) {
                money -= selectedTrain.basePrice;
                portfolio.push(selectedTrain);
                displayPortfolio();
                displayTrains();
                updateTotalMoney();
            } else {
                alert('Not enough money to buy this train!');
            }
        }

        function generateSaleOffer() {
            if (portfolio.length > 0) {
                const randomTrainIndex = Math.floor(Math.random() * portfolio.length);
                const train = portfolio[randomTrainIndex];
                const offerPrice = Math.floor(train.basePrice * (Math.random() * 0.1 + 1.05)); // Cena o 5-10% vyšší
                const companyName = generateRandomCompanyName();
                const confirmation = confirm(`Company ${companyName} wants to buy your train (${train.description}) for $${offerPrice}. Do you want to sell this train?`);
                if (confirmation) {
                    sellTrain(randomTrainIndex, offerPrice);
                }
            }
        }

        function generateRandomCompanyName() {
            const companies = ['EuroRail', 'SwiftTrans', 'TransCargo', 'RailStar', 'ExpressConnect'];
            return companies[Math.floor(Math.random() * companies.length)];
        }

        function sellTrain(index, offerPrice) {
            money += offerPrice;
            portfolio.splice(index, 1);
            displayPortfolio();
            updateTotalMoney();
        }

        function displayPortfolio() {
            portfolioElement.innerHTML = '';
            portfolio.forEach((train, index) => {
                const li = document.createElement('li');
                li.innerHTML = `
                    <img src="${train.image}" alt="${train.description}">
                    <p>${train.description}</p>
                    <p>Price: $${train.basePrice}</p>
                `;
                portfolioElement.appendChild(li);
            });
        }

        function updateTotalMoney() {
            totalMoneyElement.textContent = money;
        }

        // Spustit hru
        displayTrains();
        displayPortfolio();
        updateTotalMoney();

        // Každých 20 vteřin obnovit nabídky na trhu
        setInterval(() => {
            displayTrains();
        }, 120000);

        // Každou minutu generovat nabídku na prodej vlaku z hráčova portfolia
        setInterval(() => {
            generateSaleOffer();
        }, 18000);
    </script>

</body>
</html>

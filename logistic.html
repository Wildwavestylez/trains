<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        #playerPanel {
            flex: 1;
            padding: 10px;
            background-color: #f0f0f0;
        }

        #map {
            flex: 2;
            height: 100%;
        }

          
        
    </style>
    <title>Train Game</title>
</head>
<body>

<div id="playerPanel">
    <!-- Zde můžete umístit obsah hráčova panelu, např. portfolio, kupony vlaků, atd. -->
    <h2>Player Panel</h2>
    <p id="finance">Finance: 500000 Kč</p>
    <p>Kupony vlaků: 01</p>
    
    <!-- Doplnit další informace podle potřeby -->
</div>

<div id="map"></div>



<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
let playerFinance = 500000;
let availableLines = []; // Seznam dostupných linek

const updateInterval = 1000; // Interval aktualizace polohy vlaku v ms
const offerInterval = 20000; // Interval nabídek od herního drážního úřadu v ms

// Fiktivní data pro linky a zastávky
const lines = [
    {
        name: "Trať 198 Strakonice - Volary",
        color: "blue",
        category: "A",
        trains: [
            { name: "Train 1", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/sgF74F8.png', maxSpeed: 600 },
            { name: "Train 2", startingIndex: 8, reverse: false, image: 'https://i.imgur.com/5V3WrS7.png', maxSpeed: 600 },
            { name: "Train 3", startingIndex: 14, reverse: true, image: 'https://i.imgur.com/sgF74F8.png', maxSpeed: 600 },
            { name: "Train 4", startingIndex: 21, reverse: false, image: 'https://i.imgur.com/sgF74F8.png', maxSpeed: 600 },
            { name: "Train 5", startingIndex: 7, reverse: true, image: 'https://i.imgur.com/5V3WrS7.png', maxSpeed: 600 },
            { name: "Train 6", startingIndex: 15, reverse: false, image: 'https://i.imgur.com/5V3WrS7.png', maxSpeed: 600 }
        ],
         stops: [
                { name: "Strakonice", location: [49.2551575, 13.9163047] },
                { name: "Radošovice", location: [49.2322158, 13.901812] },
                { name: "Přední Zborovice", location: [49.2183647, 13.8940200] },
                { name: "Strunkovice nad Volyňkou", location: [49.2100447, 13.8872928] },
                { name: "Hoštice", location: [49.1873397, 13.8930731] },
                { name: "Volyně", location: [49.1701164, 13.8928975] },
                { name: "Nišovice", location: [49.1502839, 13.9059867] },
                { name: "Malenice", location: [49.1237908, 13.8832197] },
                { name: "Lčovice", location: [49.1090089, 13.8666047] },
                { name: "Čkyně", location: [49.1111489, 13.8291083] },
                { name: "Bohumilice v Čechách, zastávka", location: [49.0975800, 13.8137817] },
                { name: "Bohumilice v Čechách", location: [49.0927086, 13.8010150] },
                { name: "Vimperk", location: [49.0555267, 13.7907544] },
                { name: "Vimperk, zastávka", location: [49.0487633, 13.7639522] },
                { name: "Lipka", location: [49.0202103, 13.7354764] },
                { name: "Kubova Huť", location: [48.9830017, 13.7747478] },
                { name: "Horní Vltavice", location: [48.9625625, 13.7746514] },
                { name: "Zátoň", location: [48.9509200, 13.8030072] },
                { name: "Zátoň - Boubín", location: [48.9515725, 13.8224831] },
                { name: "Lenora", location: [48.9283675, 13.7969542] },
                { name: "Lenora zastávka", location: [48.9233969, 13.8026581] },
                { name: "Soumarský Most", location: [48.9080047, 13.8287611] },
                { name: "Volary", location: [48.9070969, 13.8833131] },  
        ]
    }, 

    {
        name: "Trať 190 Plzeň - České Budějovice",
        color: "blue",
        category: "B",
        trains: [
            { name: "Train EL", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/0wL4K2Q.png', maxSpeed: 600 },
            { name: "Train EM", startingIndex: 8, reverse: false, image: 'https://i.imgur.com/0wL4K2Q.png', maxSpeed: 600 },
            { name: "Train EN", startingIndex: 14, reverse: true, image: 'https://i.imgur.com/0wL4K2Q.png', maxSpeed: 600 },
            { name: "Train EO", startingIndex: 21, reverse: false, image: 'https://i.imgur.com/0wL4K2Q.png', maxSpeed: 600 },
            { name: "Train EP", startingIndex: 7, reverse: true, image: 'https://i.imgur.com/0wL4K2Q.png', maxSpeed: 600 },
            { name: "Train EQ", startingIndex: 15, reverse: false, image: 'https://i.imgur.com/0wL4K2Q.png', maxSpeed: 600 }
        ],
         stops: [
                { name: "Plzeň hlavní nádraží", location: [49.7435456, 13.3880578] },
                { name: "Plzeň-Slovany", location: [49.7348519, 13.4078303] },
                { name: "Starý Plzenec", location: [49.6953125, 13.4781703] },
                { name: "Šťáhlavy", location: [49.6694031, 13.5035172] },
                { name: "Nezvěstice", location: [49.6423722, 13.5165967] },
                { name: "Zdemyslice", location: [49.6064719, 13.5170383] },
                { name: "Blovice", location: [49.5812264, 13.5314531] },
                { name: "Ždírec u Plzně", location: [49.5506783, 13.5739869] },
                { name: "Srby", location: [49.5246506, 13.5917739] },
                { name: "Nepomuk", location: [49.4975547, 13.6088542] },
                { name: "Mileč", location: [49.4618186, 13.6081772] },
                { name: "Nekvasovy", location: [49.4383658, 13.6105403] },
                { name: "Kovčín", location: [49.4135856, 13.6132697] },
                { name: "Pačejov", location: [49.3913308, 13.6205664] },
                { name: "Jetenovice", location: [49.3700714, 13.6656181] },
                { name: "Velký Bor", location: [49.3458594, 13.7009936] },
                { name: "Horažďovice předměstí", location: [49.3313714, 13.7388486] },
                { name: "Střelské Hoštice", location: [49.3051414, 13.7788925] },
                { name: "Dolní Poříčí", location: [49.2886125, 13.8008481] },
                { name: "Katovice", location: [49.2693519, 13.8235978] },
                { name: "Pracejovice", location: [49.2582358, 13.8489875] },
                { name: "Strakonice", location: [49.2551575, 13.9163047] },
                { name: "Modlešovice", location: [49.2565003, 13.9762058] },  
                { name: "Čejetice", location: [49.2515564, 14.0157986] },
                { name: "Sudoměř u Písku", location: [49.2494011, 14.0572156] },
                { name: "Ražice", location: [49.2446214, 14.1085939] },
                { name: "Heřmaň obec", location: [49.2364769, 14.1359625] },
                { name: "Skály", location: [49.2238389, 14.1645900] },
                { name: "Protivín", location: [49.2125053, 14.2119942] },
                { name: "Protivín zastávka", location: [49.1964417, 14.2224597] }, 
                { name: "Milenovice", location: [49.1726953, 14.2206258] },
                { name: "Číčenice", location: [49.1536025, 14.2215758] },
                { name: "Záblatíčko", location: [49.1249389, 14.2651444] },
                { name: "Zbudov", location: [49.0895767, 14.3268633] },
                { name: "Zliv", location: [49.0654831, 14.3617669] },
                { name: "Hluboká nad Vltavou", location: [49.0324019, 14.4202061] }, 
             { name: "České Budějovice severní zastávka", location: [48.9947853, 14.4793767] },
                { name: "České Budějovice", location: [48.9744872, 14.4886075] }, 
        ]
    }, 

{
        name: "EC Hamburg - Berlin - Praha - Bratislava - Budapest",
        color: "#FFFFFF00",
        category: "D",
        trains: [
            { name: "Train CD", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/2wCzoS3.png', maxSpeed: 800 },
            { name: "Train CE", startingIndex: 90, reverse: false, image: 'https://i.imgur.com/2wCzoS3.png', maxSpeed: 800 },
            { name: "Train CF", startingIndex: 60, reverse: true, image: 'https://i.imgur.com/2wCzoS3.png', maxSpeed: 800 },
            { name: "Train CG", startingIndex: 60, reverse: false, image: 'https://i.imgur.com/2wCzoS3.png', maxSpeed: 800 },
            { name: "Train CH", startingIndex: 45, reverse: true, image: 'https://i.imgur.com/2wCzoS3.png', maxSpeed: 800 },
            { name: "Train CI", startingIndex: 56, reverse: false, image: 'https://i.imgur.com/2wCzoS3.png', maxSpeed: 800 },
            { name: "Train CJ", startingIndex: 74, reverse: true, image: 'https://i.imgur.com/2wCzoS3.png', maxSpeed: 800 },
            { name: "Train CK", startingIndex: 32, reverse: false, image: 'https://i.imgur.com/2wCzoS3.png', maxSpeed: 800 },
            { name: "Train CL", startingIndex: 20, reverse: true, image: 'https://i.imgur.com/2wCzoS3.png', maxSpeed: 800 },
            { name: "Train CM", startingIndex: 18, reverse: false, image: 'https://i.imgur.com/2wCzoS3.png', maxSpeed: 800 },
            
        ],
         stops: [
                { name: "Hamburg Altona", location: [53.5538294, 9.9351453] },
                { name: "Hamburg, Holstenstraße", location: [53.5617714, 9.9499558] },
                { name: "Hamburg, Sternschanze (Messe)", location: [53.5637628, 9.9674911] },
                { name: "Hamburg Dammtor", location: [53.5605544, 9.9894475] },
                { name: "Hamburg Hauptbahnhof", location: [53.5525017, 10.0066633] },
                { name: "Hamburg, Berliner Tor", location: [53.5524711, 10.0262947] },
                { name: "Hamburg, Rothenburgsort", location: [53.5383072, 10.0442792] },
                { name: "Hamburg, Tiefstack", location: [53.5313531, 10.0652189] },
                { name: "Hamburg, Billwerder-Moorfleet", location: [53.5155603, 10.0969467] },
                { name: "Hamburg, Mittlerer Landweg", location: [53.4983100, 10.1308850] },
                { name: "Hamburg, Allermöhe", location: [53.4903375, 10.1585797] },
                { name: "Hamburg, Nettelnburg", location: [53.4879228, 10.1809311] },
                { name: "Hamburg, Bergedorf", location: [53.4895517, 10.2061014] },
                { name: "Reinbek", location: [53.5083886, 10.2535047] },
                { name: "Wohltorf", location: [53.5204736, 10.2779397] },
                { name: "Aumühle", location: [53.5300025, 10.3142939] },
                { name: "Schwarzenbek", location: [53.5037269, 10.4847222] },
                { name: "Müssen", location: [53.4994544, 10.5611181] },
                { name: "Büchen", location: [53.4741981, 10.6243803] },
                { name: "Schwanheide", location: [53.4281578, 10.6899928] },
                { name: "Boizenburg (Elbe)", location: [53.3780250, 10.7545319] },
                { name: "Brahlsdorf", location: [53.3640169, 10.9536239] },  
             { name: "Pritzier Bahnhof", location: [53.3649025, 11.0830458] },
                { name: "Hagenow Land", location: [53.4132958, 11.2148819] },
                { name: "Strohkirchen", location: [53.3984794, 11.3178472] },
                { name: "Jasnitz", location: [53.3862306, 11.3741358] },
                { name: "Ludwigslust", location: [53.3351556, 11.4944792] },
                { name: "Grabow (Meckl)", location: [53.2830086, 11.5639592] },
                { name: "Reckenzin", location: [53.2234406, 11.6923972] },
                { name: "Karstädt (Prignitz)", location: [53.1608392, 11.7384919] },
                { name: "Wittenberge", location: [53.0023650, 11.7629414] },
                { name: "Bad Wilsnack", location: [52.9601136, 11.9494019] },
                { name: "Glöwen", location: [52.9034958, 12.0834694] },
                { name: "Breddin", location: [52.8860969, 12.2246494] },
                { name: "Zernitz", location: [52.8918153, 12.3506003] },
                { name: "Neustadt (Dosse)", location: [52.8529092, 12.4503967] },
                { name: "Friesack (Mark)", location: [52.7606317, 12.5878258] },
                { name: "Paulinenaue", location: [52.6753731, 12.7145567] },
                { name: "Nauen", location: [52.6125183, 12.8859300] },
                { name: "Brieselang", location: [52.5823936, 13.0016183] },
                { name: "Falkensee, Finkenkrug", location: [52.5697328, 13.0508014] },
                { name: "Falkensee", location: [52.5596467, 13.0895053] },
                { name: "Seegefeld", location: [52.5525131, 13.1169139] },
                { name: "Berlin, Albrechtshof", location: [52.5493775, 13.1291819] },
             { name: "Berlin-Spandau", location: [52.5347694, 13.1956286] },
                { name: "S Stresow (Berlin)", location: [52.5319289, 13.2091836] },
                { name: "S+U Jungfernheide Bhf (Berlin)", location: [52.5302886, 13.2993975] },
                { name: "S Beusselstr. (Berlin)", location: [52.5344506, 13.3293608] },
                { name: "S+U Westhafen (Berlin)", location: [52.5362167, 13.3443289] },
                { name: "Berlin Hauptbahnhof", location: [52.5249786, 13.3691139] },
                { name: "U Bundestag (Berlin)", location: [52.5201072, 13.3728419] },
                { name: "S+U Potsdamer Platz Bhf (Berlin)", location: [52.5096053, 13.3765792] },
                { name: "S+U Yorckstrasse (Berlin)", location: [52.4908792, 13.3723269] },
                { name: "Berlin Südkreuz", location: [52.4758414, 13.3654281] },
                { name: "S Priesterweg (Berlin)", location: [52.4599036, 13.3563242] },
                { name: "S Attilastr. (Berlin)", location: [52.4478989, 13.3607272] }, 
             { name: "S Marienfelde (Berlin)", location: [52.4242783, 13.3745869] },
                { name: "S Buckower Chaussee (Berlin)", location: [52.4102517, 13.3829842] },
                { name: "S Schichauweg (Berlin)", location: [52.3991547, 13.3890886] },
                { name: "S Lichtenrade (Berlin)", location: [52.3869781, 13.3965856] },
                { name: "S Mahlow", location: [52.3607483, 13.4077131] },
                { name: "Blankenfelde", location: [52.3384428, 13.4153953] },
                { name: "Dahlewitz", location: [52.3262900, 13.4197989] },
                { name: "Rangsdorf", location: [52.2946817, 13.4308347] },
                { name: "Dabendorf", location: [52.2373314, 13.4372903] },
                { name: "Zossen", location: [52.2189217, 13.4385711] },
                { name: "Wünsdorf-Waldstadt", location: [52.1655578, 13.4681453] },
                { name: "Neuhof (bei Zossen)", location: [52.1391564, 13.4795581] },
                { name: "Baruth", location: [52.0587653, 13.5117608] },
                { name: "Klasdorf-Glashütte", location: [52.0210533, 13.5440675] },
                { name: "Golßen", location: [51.9730300, 13.5754136] },
                { name: "Drahnsdorf", location: [51.9158706, 13.5814894] },
                { name: "Luckau-Uckro", location: [51.8514253, 13.6082936] },
                { name: "Walddrehna", location: [51.7726478, 13.6172114] },
                { name: "Doberlug-Kirchhain", location: [51.6205750, 13.5642414] },
                { name: "Rückersdorf", location: [51.5666922, 13.5742950] },
                { name: "Elsterwerda", location: [51.4598161, 13.5165033] },
                { name: "Frauenhain", location: [51.3837853, 13.5038528] },
                { name: "Zabeltitz", location: [51.3490600, 13.5156211] },
                { name: "Großenhain Cottbuser Bahnhof", location: [51.2915650, 13.5237503] },
                { name: "Böhla", location: [51.2326289, 13.5483967] },
                { name: "Niederau", location: [51.1764542, 13.5643056] },
                { name: "Coswig", location: [51.1210733, 13.5947686] },
                { name: "Radebeul Bahnhof Naundorf", location: [51.1101036, 13.5992269] },
             { name: "Niederwartha Haltepunkt", location: [51.0944900, 13.6060267] },
                { name: "Cossebaude", location: [51.0850106, 13.6321050] },
                { name: "Dresden Hp Stetzsch", location: [51.0805283, 13.6518231] },
                { name: "Dresden Hp Kemnitz", location: [51.0731278, 13.6688194] },
                { name: "Dresden Hp Cotta", location: [51.0619278, 13.6835794] },
                { name: "Dresden Friedrichstadt", location: [51.0561219, 13.7073478] },
                { name: "Dresden S-Bf. Freiberger Straße", location: [51.0478364, 13.7198258] },
                { name: "Dresden Hauptbahnhof", location: [51.0393447, 13.7343961] },
                { name: "Dresden S-Bf. Strehlen", location: [51.0306778, 13.7618608] },
        ]
    }, 

    {
        name: "ICE Hamburg - Berlin ",
        color: "#FFFFFF00",
        category: "C",
        trains: [
            { name: "Train CN", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/TMC7tvK.png', maxSpeed: 1000 },
            { name: "Train CO", startingIndex: 47, reverse: false, image: 'https://i.imgur.com/TMC7tvK.png', maxSpeed: 1000 },
            { name: "Train CP", startingIndex: 15, reverse: true, image: 'https://i.imgur.com/TMC7tvK.png', maxSpeed: 1000 },
            { name: "Train CQ", startingIndex: 15, reverse: false, image: 'https://i.imgur.com/TMC7tvK.png', maxSpeed: 1000 },
            { name: "Train CR", startingIndex: 32, reverse: true, image: 'https://i.imgur.com/TMC7tvK.png', maxSpeed: 1000 },
            { name: "Train CS", startingIndex: 32, reverse: false, image: 'https://i.imgur.com/TMC7tvK.png', maxSpeed: 1000 }
           
        ],
         stops: [
                { name: "Hamburg Altona", location: [53.5538294, 9.9351453] },
                { name: "Hamburg, Holstenstraße", location: [53.5617714, 9.9499558] },
                { name: "Hamburg, Sternschanze (Messe)", location: [53.5637628, 9.9674911] },
                { name: "Hamburg Dammtor", location: [53.5605544, 9.9894475] },
                { name: "Hamburg Hauptbahnhof", location: [53.5525017, 10.0066633] },
                { name: "Hamburg, Berliner Tor", location: [53.5524711, 10.0262947] },
                { name: "Hamburg, Rothenburgsort", location: [53.5383072, 10.0442792] },
                { name: "Hamburg, Tiefstack", location: [53.5313531, 10.0652189] },
                { name: "Hamburg, Billwerder-Moorfleet", location: [53.5155603, 10.0969467] },
                { name: "Hamburg, Mittlerer Landweg", location: [53.4983100, 10.1308850] },
                { name: "Hamburg, Allermöhe", location: [53.4903375, 10.1585797] },
                { name: "Hamburg, Nettelnburg", location: [53.4879228, 10.1809311] },
                { name: "Hamburg, Bergedorf", location: [53.4895517, 10.2061014] },
                { name: "Reinbek", location: [53.5083886, 10.2535047] },
                { name: "Wohltorf", location: [53.5204736, 10.2779397] },
                { name: "Aumühle", location: [53.5300025, 10.3142939] },
                { name: "Schwarzenbek", location: [53.5037269, 10.4847222] },
                { name: "Müssen", location: [53.4994544, 10.5611181] },
                { name: "Büchen", location: [53.4741981, 10.6243803] },
                { name: "Schwanheide", location: [53.4281578, 10.6899928] },
                { name: "Boizenburg (Elbe)", location: [53.3780250, 10.7545319] },
                { name: "Brahlsdorf", location: [53.3640169, 10.9536239] },  
             { name: "Pritzier Bahnhof", location: [53.3649025, 11.0830458] },
                { name: "Hagenow Land", location: [53.4132958, 11.2148819] },
                { name: "Strohkirchen", location: [53.3984794, 11.3178472] },
                { name: "Jasnitz", location: [53.3862306, 11.3741358] },
                { name: "Ludwigslust", location: [53.3351556, 11.4944792] },
                { name: "Grabow (Meckl)", location: [53.2830086, 11.5639592] },
                { name: "Reckenzin", location: [53.2234406, 11.6923972] },
                { name: "Karstädt (Prignitz)", location: [53.1608392, 11.7384919] },
                { name: "Wittenberge", location: [53.0023650, 11.7629414] },
                { name: "Bad Wilsnack", location: [52.9601136, 11.9494019] },
                { name: "Glöwen", location: [52.9034958, 12.0834694] },
                { name: "Breddin", location: [52.8860969, 12.2246494] },
                { name: "Zernitz", location: [52.8918153, 12.3506003] },
                { name: "Neustadt (Dosse)", location: [52.8529092, 12.4503967] },
                { name: "Friesack (Mark)", location: [52.7606317, 12.5878258] },
                { name: "Paulinenaue", location: [52.6753731, 12.7145567] },
                { name: "Nauen", location: [52.6125183, 12.8859300] },
                { name: "Brieselang", location: [52.5823936, 13.0016183] },
                { name: "Falkensee, Finkenkrug", location: [52.5697328, 13.0508014] },
                { name: "Falkensee", location: [52.5596467, 13.0895053] },
                { name: "Seegefeld", location: [52.5525131, 13.1169139] },
                { name: "Berlin, Albrechtshof", location: [52.5493775, 13.1291819] },
             { name: "Berlin-Spandau", location: [52.5347694, 13.1956286] },
                { name: "S Stresow (Berlin)", location: [52.5319289, 13.2091836] },
                { name: "S+U Jungfernheide Bhf (Berlin)", location: [52.5302886, 13.2993975] },
                { name: "S Beusselstr. (Berlin)", location: [52.5344506, 13.3293608] },
                { name: "S+U Westhafen (Berlin)", location: [52.5362167, 13.3443289] },
                { name: "Berlin Hauptbahnhof", location: [52.5249786, 13.3691139] },
                ]
    }, 
     {
        name: "IC (Warnemünde - Berlin - Dresden ",
        color: "#FFFFFF00",
        category: "C",
        trains: [
            { name: "Train EB", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/0xOaVMt.png', maxSpeed: 1000 },
            { name: "Train EC", startingIndex: 41, reverse: false, image: 'https://i.imgur.com/0xOaVMt.png', maxSpeed: 1000 },
            { name: "Train ED", startingIndex: 15, reverse: true, image: 'https://i.imgur.com/0xOaVMt.png', maxSpeed: 1000 },
            { name: "Train EE", startingIndex: 15, reverse: false, image: 'https://i.imgur.com/0xOaVMt.png', maxSpeed: 1000 },
            { name: "Train EF", startingIndex: 28, reverse: true, image: 'https://i.imgur.com/0xOaVMt.png', maxSpeed: 1000 },
            { name: "Train EG", startingIndex: 28, reverse: false, image: 'https://i.imgur.com/0xOaVMt.png', maxSpeed: 1000 }
           
        ],
         stops: [
                { name: "Berlin Hauptbahnhof", location: [52.5249786, 13.3691139] },
                { name: "U Bundestag (Berlin)", location: [52.5201072, 13.3728419] },
                { name: "S+U Potsdamer Platz Bhf (Berlin)", location: [52.5096053, 13.3765792] },
                { name: "S+U Yorckstrasse (Berlin)", location: [52.4908792, 13.3723269] },
                { name: "Berlin Südkreuz", location: [52.4758414, 13.3654281] },
                { name: "S Priesterweg (Berlin)", location: [52.4599036, 13.3563242] },
                { name: "S Attilastr. (Berlin)", location: [52.4478989, 13.3607272] }, 
             { name: "S Marienfelde (Berlin)", location: [52.4242783, 13.3745869] },
                { name: "S Buckower Chaussee (Berlin)", location: [52.4102517, 13.3829842] },
                { name: "S Schichauweg (Berlin)", location: [52.3991547, 13.3890886] },
                { name: "S Lichtenrade (Berlin)", location: [52.3869781, 13.3965856] },
                { name: "S Mahlow", location: [52.3607483, 13.4077131] },
                { name: "Blankenfelde", location: [52.3384428, 13.4153953] },
                { name: "Dahlewitz", location: [52.3262900, 13.4197989] },
                { name: "Rangsdorf", location: [52.2946817, 13.4308347] },
                { name: "Dabendorf", location: [52.2373314, 13.4372903] },
                { name: "Zossen", location: [52.2189217, 13.4385711] },
                { name: "Wünsdorf-Waldstadt", location: [52.1655578, 13.4681453] },
                { name: "Neuhof (bei Zossen)", location: [52.1391564, 13.4795581] },
                { name: "Baruth", location: [52.0587653, 13.5117608] },
                { name: "Klasdorf-Glashütte", location: [52.0210533, 13.5440675] },
                { name: "Golßen", location: [51.9730300, 13.5754136] },
                { name: "Drahnsdorf", location: [51.9158706, 13.5814894] },
                { name: "Luckau-Uckro", location: [51.8514253, 13.6082936] },
                { name: "Walddrehna", location: [51.7726478, 13.6172114] },
                { name: "Doberlug-Kirchhain", location: [51.6205750, 13.5642414] },
                { name: "Rückersdorf", location: [51.5666922, 13.5742950] },
                { name: "Elsterwerda", location: [51.4598161, 13.5165033] },
                { name: "Frauenhain", location: [51.3837853, 13.5038528] },
                { name: "Zabeltitz", location: [51.3490600, 13.5156211] },
                { name: "Großenhain Cottbuser Bahnhof", location: [51.2915650, 13.5237503] },
                { name: "Böhla", location: [51.2326289, 13.5483967] },
                { name: "Niederau", location: [51.1764542, 13.5643056] },
                { name: "Coswig", location: [51.1210733, 13.5947686] },
                { name: "Radebeul Bahnhof Naundorf", location: [51.1101036, 13.5992269] },
             { name: "Niederwartha Haltepunkt", location: [51.0944900, 13.6060267] },
                { name: "Cossebaude", location: [51.0850106, 13.6321050] },
                { name: "Dresden Hp Stetzsch", location: [51.0805283, 13.6518231] },
                { name: "Dresden Hp Kemnitz", location: [51.0731278, 13.6688194] },
                { name: "Dresden Hp Cotta", location: [51.0619278, 13.6835794] },
                { name: "Dresden Friedrichstadt", location: [51.0561219, 13.7073478] },
                { name: "Dresden S-Bf. Freiberger Straße", location: [51.0478364, 13.7198258] },
                { name: "Dresden Hauptbahnhof", location: [51.0393447, 13.7343961] },
                ]
    }, 

     {
        name: "RE8 Berlin - Elsterwerda",    
        color: "red",
        category: "B",
        trains: [
            { name: "Train DV", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/XqBoyUz.png', maxSpeed: 500 },
            { name: "Train DW", startingIndex: 27, reverse: false, image: 'https://i.imgur.com/XqBoyUz.png', maxSpeed: 500 },
            { name: "Train DX", startingIndex: 18, reverse: true, image: 'https://i.imgur.com/XqBoyUz.png', maxSpeed: 500 },
            { name: "Train DY", startingIndex: 17, reverse: false, image: 'https://i.imgur.com/XqBoyUz.png', maxSpeed: 500 },
             { name: "Train DZ", startingIndex: 8, reverse: true, image: 'https://i.imgur.com/XqBoyUz.png', maxSpeed: 500 },
            { name: "Train EA", startingIndex: 10, reverse: false, image: 'https://i.imgur.com/XqBoyUz.png', maxSpeed: 500 },
             ],
        stops: [
             { name: "Berlin Hauptbahnhof", location: [52.5249786, 13.3691139] },
                { name: "U Bundestag (Berlin)", location: [52.5201072, 13.3728419] },
                { name: "S+U Potsdamer Platz Bhf (Berlin)", location: [52.5096053, 13.3765792] },
                { name: "S+U Yorckstrasse (Berlin)", location: [52.4908792, 13.3723269] },
                { name: "Berlin Südkreuz", location: [52.4758414, 13.3654281] },
                { name: "S Priesterweg (Berlin)", location: [52.4599036, 13.3563242] },
                { name: "S Attilastr. (Berlin)", location: [52.4478989, 13.3607272] }, 
             { name: "S Marienfelde (Berlin)", location: [52.4242783, 13.3745869] },
                { name: "S Buckower Chaussee (Berlin)", location: [52.4102517, 13.3829842] },
                { name: "S Schichauweg (Berlin)", location: [52.3991547, 13.3890886] },
                { name: "S Lichtenrade (Berlin)", location: [52.3869781, 13.3965856] },
                { name: "S Mahlow", location: [52.3607483, 13.4077131] },
                { name: "Blankenfelde", location: [52.3384428, 13.4153953] },
                { name: "Dahlewitz", location: [52.3262900, 13.4197989] },
                { name: "Rangsdorf", location: [52.2946817, 13.4308347] },
                { name: "Dabendorf", location: [52.2373314, 13.4372903] },
                { name: "Zossen", location: [52.2189217, 13.4385711] },
                { name: "Wünsdorf-Waldstadt", location: [52.1655578, 13.4681453] },
                { name: "Neuhof (bei Zossen)", location: [52.1391564, 13.4795581] },
                { name: "Baruth", location: [52.0587653, 13.5117608] },
                { name: "Klasdorf-Glashütte", location: [52.0210533, 13.5440675] },
                { name: "Golßen", location: [51.9730300, 13.5754136] },
                { name: "Drahnsdorf", location: [51.9158706, 13.5814894] },
                { name: "Luckau-Uckro", location: [51.8514253, 13.6082936] },
                { name: "Walddrehna", location: [51.7726478, 13.6172114] },
                { name: "Doberlug-Kirchhain", location: [51.6205750, 13.5642414] },
                { name: "Rückersdorf", location: [51.5666922, 13.5742950] },
                { name: "Elsterwerda", location: [51.4598161, 13.5165033] },
               
        ]
    },

    {
        name: "RB31 Elsterwerda-Biehla - Dresden",    
        color: "Blue",
        category: "A",
        trains: [
            { name: "Train EH", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/z9cwXeW.png', maxSpeed: 500 },
            { name: "Train EI", startingIndex: 15, reverse: false, image: 'https://i.imgur.com/z9cwXeW.png', maxSpeed: 500 },
            { name: "Train EJ", startingIndex: 7, reverse: true, image: 'https://i.imgur.com/z9cwXeW.png', maxSpeed: 500 },
            { name: "Train EK", startingIndex: 8, reverse: false, image: 'https://i.imgur.com/z9cwXeW.png', maxSpeed: 500 },
             
             ],
        stops: [
                { name: "Elsterwerda-Biehla", location: [51.4722253, 13.5197458] },
                { name: "Elsterwerda", location: [51.4598161, 13.5165033] },
                { name: "Frauenhain", location: [51.3837853, 13.5038528] },
                { name: "Zabeltitz", location: [51.3490600, 13.5156211] },
                { name: "Großenhain Cottbuser Bahnhof", location: [51.2915650, 13.5237503] },
                { name: "Böhla", location: [51.2326289, 13.5483967] },
                { name: "Niederau", location: [51.1764542, 13.5643056] },
                { name: "Coswig", location: [51.1210733, 13.5947686] },
                { name: "Radebeul Bahnhof Naundorf", location: [51.1101036, 13.5992269] },
             { name: "Niederwartha Haltepunkt", location: [51.0944900, 13.6060267] },
                { name: "Cossebaude", location: [51.0850106, 13.6321050] },
                { name: "Dresden Hp Stetzsch", location: [51.0805283, 13.6518231] },
                { name: "Dresden Hp Kemnitz", location: [51.0731278, 13.6688194] },
                { name: "Dresden Hp Cotta", location: [51.0619278, 13.6835794] },
                { name: "Dresden Friedrichstadt", location: [51.0561219, 13.7073478] },
                { name: "Dresden S-Bf. Freiberger Straße", location: [51.0478364, 13.7198258] },
                { name: "Dresden Hauptbahnhof", location: [51.0393447, 13.7343961] },
               
        ]
    },

    {
        name: "S-Bahn Hamburg S2 Altona - Aumühle",    
        color: "red",
        category: "A",
        trains: [
            { name: "Train AAA", startingIndex: 0, reverse: false, image: 'https://github.com/Wildwavestylez/trains/blob/main/Images/S-bahn%20Hamburg.png?raw=true', maxSpeed: 500 },
            { name: "Train AAB", startingIndex: 15, reverse: false, image: 'https://github.com/Wildwavestylez/trains/blob/main/Images/S-bahn%20Hamburg.png?raw=true', maxSpeed: 500 },
            { name: "Train AAC", startingIndex: 8, reverse: true, image: 'https://github.com/Wildwavestylez/trains/blob/main/Images/S-bahn%20Hamburg.png?raw=true', maxSpeed: 500 },
            { name: "Train AAD", startingIndex: 9, reverse: false, image: 'https://github.com/Wildwavestylez/trains/blob/main/Images/S-bahn%20Hamburg.png?raw=true', maxSpeed: 500 },
             ],
        stops: [
             { name: "Hamburg Altona", location: [53.5538294, 9.9351453] },
                { name: "Hamburg, Holstenstraße", location: [53.5617714, 9.9499558] },
                { name: "Hamburg, Sternschanze (Messe)", location: [53.5637628, 9.9674911] },
                { name: "Hamburg Dammtor", location: [53.5605544, 9.9894475] },
                { name: "Hamburg Hauptbahnhof", location: [53.5525017, 10.0066633] },
                { name: "Hamburg, Berliner Tor", location: [53.5524711, 10.0262947] },
                { name: "Hamburg, Rothenburgsort", location: [53.5383072, 10.0442792] },
                { name: "Hamburg, Tiefstack", location: [53.5313531, 10.0652189] },
                { name: "Hamburg, Billwerder-Moorfleet", location: [53.5155603, 10.0969467] },
                { name: "Hamburg, Mittlerer Landweg", location: [53.4983100, 10.1308850] },
                { name: "Hamburg, Allermöhe", location: [53.4903375, 10.1585797] },
                { name: "Hamburg, Nettelnburg", location: [53.4879228, 10.1809311] },
                { name: "Hamburg, Bergedorf", location: [53.4895517, 10.2061014] },
                { name: "Reinbek", location: [53.5083886, 10.2535047] },
                { name: "Wohltorf", location: [53.5204736, 10.2779397] },
                { name: "Aumühle", location: [53.5300025, 10.3142939] },
               
        ]
    },
    
       {
        name: "Trať 030 Jaroměř - Liberec",
        color: "blue",
        category: "B",
        trains: [
            { name: "Train BR", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/pomYLWB.png', maxSpeed: 600 },
            { name: "Train BS", startingIndex: 31, reverse: false, image: 'https://i.imgur.com/pomYLWB.png', maxSpeed: 600 },
            { name: "Train BT", startingIndex: 8, reverse: true, image: 'https://i.imgur.com/pomYLWB.png', maxSpeed: 600 },
            { name: "Train BU", startingIndex: 9, reverse: false, image: 'https://i.imgur.com/P2FHNVi.png', maxSpeed: 600 },
            { name: "Train BV", startingIndex: 16, reverse: true, image: 'https://i.imgur.com/pomYLWB.png', maxSpeed: 600 },
            { name: "Train BW", startingIndex: 17, reverse: false, image: 'https://i.imgur.com/pomYLWB.png', maxSpeed: 600 },
            { name: "Train BX", startingIndex: 24, reverse: true, image: 'https://i.imgur.com/P2FHNVi.png', maxSpeed: 600 },
            { name: "Train BY", startingIndex: 23, reverse: false, image: 'https://i.imgur.com/pomYLWB.png', maxSpeed: 600 },
        ],
         stops: [
                { name: "Jaroměř", location: [50.3417397, 15.9101000] },
                { name: "Jaroměř zastávka", location: [50.3570367, 15.9113711] },
                { name: "Kuks", location: [50.3959275, 15.8845397] },
                { name: "Žireč", location: [50.4033011, 15.8480825] },
                { name: "Dvůr Králové nad Labem", location: [50.4136697, 15.7986917] },
                { name: "Bílá Třemešná", location: [50.4519386, 15.7330589] },
                { name: "Mostek", location: [50.4912186, 15.6922617] },
                { name: "Borovnička", location: [50.5000992, 15.6586322] },
                { name: "Borovnice", location: [50.5092431, 15.6045103] },
                { name: "Horka u Staré Paky", location: [50.5266381, 15.5707389] },
                { name: "Levínská Olešnice", location: [50.5243264, 15.5306636] },
                { name: "Stará Paka", location: [50.5160142, 15.4865933] },
                { name: "Ústí u Staré Paky", location: [50.5161286, 15.4575644] },
                { name: "Bělá u Staré Paky", location: [50.5325889, 15.4424953] },
                { name: "Libštát", location: [50.5562706, 15.4173183] },
                { name: "Košťálov", location: [50.5687714, 15.4036522] },
                { name: "Nedvězí", location: [50.5841447, 15.3519536] },
                { name: "Semily", location: [50.6035042, 15.3240347] },
                { name: "Železný Brod", location: [50.6399764, 15.2652283] },
                { name: "Líšný", location: [50.6469764, 15.2119283] },
                { name: "Malá Skála", location: [50.6340181, 15.1920356] },
                { name: "Dolánky", location: [50.6038436, 15.1716661] },
                { name: "Turnov", location: [50.5869217, 15.1388817] }, 
             { name: "Doubí u Turnova", location: [50.6079522, 15.1018944] },
                { name: "Sychrov", location: [50.6293336, 15.0784311] },
                { name: "Sedlejovice", location: [50.6364442, 15.0986281] },
                { name: "Hodkovice nad Mohelkou", location: [50.6672975, 15.1006900] },
                { name: "Rychnov u Jablonce nad Nisou", location: [50.6836433, 15.1439219] },
                { name: "Rádlo", location: [50.6942406, 15.1083936] },
             { name: "Jeřmanice", location: [50.7073861, 15.0865289] },
                { name: "Pilínkov", location: [50.7272072, 15.0354492] },
                { name: "Liberec", location: [50.7615014, 15.0462581] },
        ]
    }, 

        {
        name: "Trať 031 Pardubice  - Jaroměř",    
        color: "red",
        category: "A",
        trains: [
            { name: "Train 7", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/P2qZ1di.png', maxSpeed: 500 },
            { name: "Train 8", startingIndex: 14, reverse: false, image: 'https://i.imgur.com/P2qZ1di.png', maxSpeed: 500 },
            { name: "Train 9", startingIndex: 7, reverse: true, image: 'https://i.imgur.com/P2qZ1di.png', maxSpeed: 500 },
            { name: "Train 10", startingIndex: 7, reverse: false, image: 'https://i.imgur.com/P2qZ1di.png', maxSpeed: 500 },
        ],
        stops: [
              { name: "Pardubice Hlavní nádraží", location: [50.0318908, 15.7563753] },
                { name: "Pardubice - Rosice nad Labem", location: [50.0454825, 15.7424669] },
                { name: "Pardubice - Semtín", location: [50.0614931, 15.7479144] },
                { name: "Stéblová obec", location: [50.0928917, 15.7523633] },
                { name: "Stéblová", location: [50.1044083, 15.7576503] },
                { name: "Čeperka", location: [50.1314736, 15.7699281] },
                { name: "Opatovice nad Labem", location: [50.1562539, 15.7839042] },
                { name: "Opatovice nad Labem - Pohřebačka", location: [50.1653747, 15.7890414] },
                { name: "Hradec Králové, Hlavní nádraží", location: [50.2140617, 15.8101597] },
                { name: "Předměřice nad Labem", location: [50.2526511, 15.8177967] },
                { name: "Lochenice", location: [50.2729417, 15.8245219] },
                { name: "Smiřice", location: [50.3005256, 15.8582047] },
                { name: "Černožice", location: [50.3155061, 15.8695822] },
                { name: "Semonice", location: [50.3316458, 15.8774558] },
                { name: "Jaroměř", location: [50.3417397, 15.9101000] },
               
        ]
    },

     {
        name: "Trať 032 Jaroměř - Svoboda nad Úpou",
        color: "#8B008B",
        category: "A",
        trains: [
            { name: "Train BZ", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/jXoYbZs.png', maxSpeed: 600 },
            { name: "Train CA", startingIndex: 7, reverse: false, image: 'https://i.imgur.com/jXoYbZs.png', maxSpeed: 600 },
            { name: "Train CB", startingIndex: 14, reverse: true, image: 'https://i.imgur.com/jXoYbZs.png', maxSpeed: 600 },
            { name: "Train CC", startingIndex: 21, reverse: false, image: 'https://i.imgur.com/jXoYbZs.png', maxSpeed: 600 },
            
        ],
         stops: [
                { name: "Jaroměř", location: [50.3417397, 15.9101000] },
                { name: "Rychnovek", location: [50.3607483, 15.9688606] },
                { name: "Velká Jesenice", location: [50.3755761, 16.0291806] },
                { name: "Česká Skalice", location: [50.3955917, 16.0540275] },
                { name: "Starkoč", location: [50.4110986, 16.1007556] },
                { name: "Řešetova Lhota", location: [50.4304808, 16.1028881] },
                { name: "Olešnice", location: [50.4573822, 16.0843333] },
                { name: "Červený Kostelec", location: [50.4838333, 16.0754586] },
                { name: "Rtyně v Podkrkonoší zastávka", location: [50.4995461, 16.0911025] },
                { name: "Rtyně v Podkrkonoší", location: [50.5155983, 16.0732478] },
                { name: "Malé Svatoňovice", location: [50.5296669, 16.0507469] },
                { name: "Velké Svatoňovice", location: [50.5398139, 16.0215836] },
                { name: "Suchovršice", location: [50.5324364, 16.0055142] },
                { name: "Bohuslavice", location: [50.5510036, 15.9787700] },
                { name: "Trutnov - Poříčí", location: [50.5791633, 15.9583594] },
                { name: "Trutnov střed", location: [50.5777472, 15.9451056] },
                { name: "Trutnov hlavní nádraží", location: [50.5652047, 15.9111508] },
                { name: "Trutnov-Zelená Louka", location: [50.5808181, 15.8882342] },
                { name: "Trutnov-Staré město", location: [50.5908050, 15.8818178] },
                { name: "Kalná Voda", location: [50.6004283, 15.8725975] },
                { name: "Mladé Buky", location: [50.6070975, 15.8408050] },
                { name: "Svoboda nad Úpou", location: [50.6222953, 15.8199653] },
                
        ]
    }, 

     {
        name: "Trať 021 Hradec Králové  - Letohrad",    
        color: "red",
        category: "A",
        trains: [
            { name: "Train AU", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/q3Mh9Ld.png', maxSpeed: 500 },
            { name: "Train AV", startingIndex: 20, reverse: false, image: 'https://i.imgur.com/q3Mh9Ld.png', maxSpeed: 500 },
            { name: "Train AW", startingIndex: 9, reverse: true, image: 'https://i.imgur.com/q3Mh9Ld.png', maxSpeed: 500 },
            { name: "Train AX", startingIndex: 11, reverse: false, image: 'https://i.imgur.com/q3Mh9Ld.png', maxSpeed: 500 },
        ],
        stops: [
              { name: "Hradec Králové hlavní nádraží", location: [50.2140617, 15.8101597] },
                { name: "Hradec Králové zastávka", location: [50.2224083, 15.8414822] },
                { name: "Hradec Králové-Slezské Předměstí", location: [50.2218781, 15.8596697] },
                { name: "Blešno", location: [50.2146722, 15.9359683] },
                { name: "Třebechovice pod Orebem", location: [50.2000733, 15.9821664] },
                { name: "Petrovice nad Orlicí", location: [50.1737672, 16.0460186] },
                { name: "Týniště nad Orlicí", location: [50.1549606, 16.0740508] },
                { name: "Lípa nad Orlicí", location: [50.1414756, 16.1024283] },
                { name: "Čestice", location: [50.1303519, 16.1476422] },
                { name: "Častolovice", location: [50.1284867, 16.1736050] },
                { name: "Kostelec nad Orlicí město", location: [50.1198769, 16.2050475] },
                { name: "Kostelec nad Orlicí", location: [50.1165542, 16.2239819] },
                { name: "Doudleby nad Orlicí", location: [50.1093825, 16.2588653] },
                { name: "Záměl", location: [50.1001700, 16.2970314] },
                { name: "Potštějn", location: [50.0837708, 16.3152675] },
            { name: "Sopotnice", location: [50.0705033, 16.3403358] },
                { name: "Litice nad Orlicí", location: [50.0869636, 16.3578967] },
                { name: "Bohousová", location: [50.0909919, 16.3798503] },
                { name: "Žamberk", location: [50.0737611, 16.4501286] },
                { name: "Lukavice v Čechách", location: [50.0492517, 16.4842378] },
                { name: "Letohrad", location: [50.0314292, 16.5076886] },
                 ]
    },

    {
        name: "Trať 038 F Bílý Potok pod Smrkem  - Görlitz",    
        color: "green",
        category: "A",
        trains: [
            { name: "Train DG", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/wjmYulg.png', maxSpeed: 500 },
            { name: "Train DH", startingIndex: 18, reverse: false, image: 'https://i.imgur.com/wjmYulg.png', maxSpeed: 500 },
            { name: "Train DI", startingIndex: 9, reverse: true, image: 'https://i.imgur.com/wjmYulg.png', maxSpeed: 500 },
            { name: "Train DJ", startingIndex: 8, reverse: false, image: 'https://i.imgur.com/wjmYulg.png', maxSpeed: 500 },
        ],
        stops: [
              { name: "Bílý Potok pod Smrkem", location: [50.8760528, 15.2061147] },
                { name: "Hejnice", location: [50.8795625, 15.1849183] },
                { name: "Lužec pod Smrkem", location: [50.8863603, 15.1648683] },
                { name: "Luh pod Smrkem", location: [50.8917694, 15.1519347] },
                { name: "Raspenava", location: [50.8965303, 15.1304761] },
                { name: "Frýdlant v Čechách", location: [50.9189492, 15.0734025] },
                { name: "Minkovice", location: [50.9508819, 15.0291328] },
                { name: "Višňová", location: [50.9733047, 15.0284492] },
                { name: "Filipovka", location: [50.9898872, 15.0250511] },
                { name: "Černousy", location: [51.0076447, 15.0376206] },
                { name: "Ostróżno", location: [51.0203836, 15.0363872] },
                { name: "Zawidów", location: [51.0284303, 15.0270289] },
                { name: "Wilka", location: [51.0379150, 15.0181311] },
                { name: "Sulików", location: [51.0803450, 15.0705758] },
                { name: "Studniska", location: [51.1107789, 15.0848606] },
                { name: "Jerzmanki", location: [51.1275814, 15.0614008] },
                { name: "Ujazd", location: [51.1419953, 15.0251394] },
                { name: "Zgorzelec", location: [51.1400222, 15.0035439] },
                { name: "Görlitz", location: [51.1466408, 14.9789208] },
               
        ]
    },

     {
        name: "Trať 024 Ústí nad Orlicí  - Štíty",    
        color: "green",
        category: "A",
        trains: [
            { name: "Train BC", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/VS2M75n.png', maxSpeed: 500 },
            { name: "Train BD", startingIndex: 23, reverse: false, image: 'https://i.imgur.com/VS2M75n.png', maxSpeed: 500 },
            { name: "Train BE", startingIndex: 8, reverse: false, image: 'https://i.imgur.com/VS2M75n.png', maxSpeed: 500 },
            { name: "Train BF", startingIndex: 10, reverse: true, image: 'https://i.imgur.com/VS2M75n.png', maxSpeed: 500 },
            { name: "Train BG", startingIndex: 15, reverse: false, image: 'https://i.imgur.com/VS2M75n.png', maxSpeed: 500 },
            { name: "Train BH", startingIndex: 17, reverse: true, image: 'https://i.imgur.com/VS2M75n.png', maxSpeed: 500 },
            
        ],
        stops: [
              { name: "Ústí nad Orlicí", location: [49.9715539, 16.3780328] },
                { name: "Dolní Libchavy", location: [49.9893836, 16.3970833] },
                { name: "Černovír", location: [49.9870339, 16.4273872] },
                { name: "Landšperk", location: [49.9927217, 16.4472483] },
                { name: "Hnátnice", location: [50.0016136, 16.4613589] },
                { name: "Dolní Dobrouč", location: [50.0125236, 16.4743461] },
                { name: "Letohrad", location: [50.0314292, 16.5076886] },
                { name: "Verměřovice", location: [50.0115014, 16.5576858] },
                { name: "Jablonné nad Orlicí", location: [50.0263900, 16.5945644] },
                { name: "Jamné nad Orlicí", location: [50.0399703, 16.6026553] },
                { name: "Těchonín", location: [50.0688667, 16.6081372] },
                { name: "Mladkov", location: [50.0922128, 16.6298064] },
                { name: "Lichkov", location: [50.0972253, 16.6583672] },
                { name: "Dolní Lipka", location: [50.0893631, 16.7212239] },
                { name: "Králíky zastávka", location: [50.0867158, 16.7489033] },
            { name: "Králíky", location: [50.0806161, 16.7561703] },
                { name: "Dolní Orlice", location: [50.0657311, 16.7473889] },
                { name: "Červená Voda", location: [50.0469628, 16.7465533] },
                { name: "Červená Voda‑Pod rozhlednou", location: [50.0368194, 16.7459642] },
                { name: "Moravský Karlov", location: [50.0257072, 16.7531433] },
                { name: "Bílá Voda", location: [50.0172158, 16.7474556] },
            { name: "Mlýnický Dvůr", location: [50.0038528, 16.7479744] },
                { name: "Heroltice", location: [49.9896011, 16.7533175] },
                { name: "Štíty", location: [49.9700653, 16.7547936] },
                 ]
    },
    {
        name: "Trať 020 Praha  - Hradec Králové",    
        color: "brown",
        category: "B",
        trains: [
            { name: "Train AO", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/kGQIe2f.png', maxSpeed: 500 },
            { name: "Train AP", startingIndex: 29, reverse: false, image: 'https://i.imgur.com/kGQIe2f.png', maxSpeed: 500 },
            { name: "Train AQ", startingIndex: 11, reverse: true, image: 'https://i.imgur.com/kGQIe2f.png', maxSpeed: 500 },
            { name: "Train AR", startingIndex: 9, reverse: false, image: 'https://i.imgur.com/kGQIe2f.png', maxSpeed: 500 },
            { name: "Train AS", startingIndex: 19, reverse: true, image: 'https://i.imgur.com/kGQIe2f.png', maxSpeed: 500 },
            { name: "Train AT", startingIndex: 21, reverse: false, image: 'https://i.imgur.com/kGQIe2f.png', maxSpeed: 500 },
        ],
        stops: [
              { name: "Praha Hlavní nádraží", location: [50.0829886, 14.4369822] },
                { name: "Praha-Vysočany", location: [50.1122436, 14.4975614] },
                { name: "Praha-Rajská zahrada", location: [50.1075325, 14.5601778] },
                { name: "Praha-Horní Počernice", location: [50.1167069, 14.6127500] },
                { name: "Zeleneč", location: [50.1302414, 14.6648703] },
                { name: "Mstětice", location: [50.1368981, 14.6920911] },
                { name: "Čelákovice", location: [50.1579894, 14.7543325] },
                { name: "Čelákovice - Jiřina", location: [50.1674767, 14.7652989] },
                { name: "Lysá nad Labem", location: [50.1954881, 14.8429022] },
                { name: "Ostrá", location: [50.1878586, 14.8910142] },
                { name: "Stratov", location: [50.1874503, 14.9080267] },
                { name: "Kostomlaty nad Labem", location: [50.1859208, 14.9620733] },
                { name: "Kamenné Zboží", location: [50.1889344, 15.0029611] },
            { name: "Nymburk Hlavní nádraží", location: [50.1934472, 15.0458125] },
                { name: "Velké Zboží", location: [50.1646156, 15.1009436] },
                { name: "Poděbrady", location: [50.1495742, 15.1236878] },
                { name: "Libice nad Cidlinou", location: [50.1276283, 15.1830958] },
                { name: "Velký Osek", location: [50.1019439, 15.1934339] },
                { name: "Sány", location: [50.1301042, 15.2410878] },
                { name: "Dobšice nad Cidlinou", location: [50.1401025, 15.2636747] },
                { name: "Choťovice", location: [50.1460381, 15.3291378] },
                { name: "Převýšov", location: [50.1526375, 15.4073639] },
                { name: "Chlumec nad Cidlinou", location: [50.1635856, 15.4572086] },
                { name: "Nové Město nad Cidlinou", location: [50.1502686, 15.5022364] },
                { name: "Káranice", location: [50.1551208, 15.5612631] },
             { name: "Kratonohy", location: [50.1575394, 15.6108350] },
                { name: "Dobřenice", location: [50.1596833, 15.6568947] },
                { name: "Lhota pod Libčany", location: [50.1666869, 15.6962214] },
                { name: "Praskačka", location: [50.1751822, 15.7316361] },
                { name: "Hradec Králové-Kukleny", location: [50.2019844, 15.7980469] },
                { name: "Hradec Králové hlavní nádraží", location: [50.2140617, 15.8101597] },
               
        ]
    },

     {
        name: "Trať 034 Smržovka  - Josefův Důl",    
        color: "blue",
        category: "A",
        trains: [
            { name: "Train CT", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/TaoyxXt.png', maxSpeed: 500 }, ],
        stops: [
              { name: "Smržovka", location: [50.7402839, 15.2438928] },
                { name: "Jiřetín pod Bukovou", location: [50.7569197, 15.2638922] },
                { name: "Tanvaldský Špičák", location: [50.7609214, 15.2675333] },
                { name: "Antonínov", location: [50.7715911, 15.2494106] },
                { name: "Josefův Důl", location: [50.7795372, 15.2401992] },
                
                ]
    },

    {
        name: "Trať 035 Železný Brod – Tanvald",    
        color: "green",
        category: "A",
        trains: [
            { name: "Train CU", startingIndex: 7, reverse: false, image: 'https://i.imgur.com/P2FHNVi.png', maxSpeed: 500 },
            { name: "Train CV", startingIndex: 1, reverse: false, image: 'https://i.imgur.com/P2FHNVi.png', maxSpeed: 500 },
            
            
        ],
        stops: [
              { name: "Železný Brod", location: [50.6399764, 15.2652283] },
                { name: "Spálov", location: [50.6338958, 15.3005306] },
                { name: "Jesenný", location: [50.6517600, 15.3278464] },
                { name: "Návarov", location: [50.6762389, 15.3192986] },
                { name: "Plavy", location: [50.7017442, 15.3170558] },
                { name: "Velké Hamry", location: [50.7116433, 15.3137292] },
                { name: "Velké Hamry město", location: [50.7198067, 15.3135778] },
                { name: "Tanvald", location: [50.7434233, 15.3110017] },
                
                ]
    },

    {
        name: "Trať 036 Liberec – Tanvald – Harrachov – Szklarska Poręba Górna",    
        color: "#00FFFF",
        category: "A",
        trains: [
            { name: "Train CW", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/jXoYbZs.png', maxSpeed: 500 },
            { name: "Train CX", startingIndex: 27, reverse: false, image: 'https://i.imgur.com/jXoYbZs.png', maxSpeed: 500 },
            { name: "Train CY", startingIndex: 18, reverse: false, image: 'https://i.imgur.com/jXoYbZs.png', maxSpeed: 500 },
            { name: "Train CZ", startingIndex: 17, reverse: true, image: 'https://i.imgur.com/jXoYbZs.png', maxSpeed: 500 },
            { name: "Train DA", startingIndex: 9, reverse: false, image: 'https://i.imgur.com/jXoYbZs.png', maxSpeed: 500 },
            { name: "Train DB", startingIndex: 9, reverse: true, image: 'https://i.imgur.com/jXoYbZs.png', maxSpeed: 500 },
           ],
        stops: [
              { name: "Liberec", location: [50.7615014, 15.0462581] },
                { name: "Liberec-Rochlice", location: [50.7472192, 15.0617075] },
                { name: "Vesec u Liberce", location: [50.7431717, 15.0813903] },
                { name: "Vratislavice nad Nisou", location: [50.7401428, 15.0935153] },
                { name: "Proseč nad Nisou", location: [50.7283783, 15.1156044] },
                { name: "Jablonec nad Nisou dolní nádraží", location: [50.7262992, 15.1491433] },
                { name: "Jablonec nad Nisou", location: [50.7208786, 15.1608533] },
                { name: "Jablonec nad Nisou centrum", location: [50.7208442, 15.1737947] },
                { name: "Jablonec nad Nisou zastávka", location: [50.7203903, 15.1861697] },
                { name: "Nová Ves nad Nisou", location: [50.7239228, 15.1937094] },
                { name: "Jablonecké Paseky", location: [50.7315256, 15.1910792] },
                { name: "Lučany nad Nisou", location: [50.7394944, 15.2250222] },
                { name: "Smržovka", location: [50.7402839, 15.2438928] },
                { name: "Smržovka-Luční", location: [50.7349586, 15.2495328] },
                { name: "Smržovka střed", location: [50.7319681, 15.2545986] },
                { name: "Smržovka dolní nádraží", location: [50.7348061, 15.2803850] },
                { name: "Tanvald zastávka", location: [50.7369767, 15.3052083] },
                { name: "Tanvald", location: [50.7434233, 15.3110017] },
                { name: "Desná", location: [50.7534828, 15.3089114] },
                { name: "Desná-Riedlova vila", location: [50.7592125, 15.3139125] },
                { name: "Dolní Polubný", location: [50.7605247, 15.3231469] },
                { name: "Desná-Pustinská", location: [50.7640647, 15.3353042] },
            { name: "Kořenov zastávka", location: [50.7623139, 15.3468922] },
                { name: "Kořenov", location: [50.7701339, 15.3656550] },
                { name: "Harrachov", location: [50.7716103, 15.3929692] },
                { name: "Szklarska Poręba, Polana Jakuszycka", location: [50.8146325, 15.4295503] },
                { name: "Szklarska Poręba Huta", location: [50.8266564, 15.4970961] },
                { name: "Szklarska Poręba Górna", location: [50.8326797, 15.5188331] },
                   ]
    },

    {
        name: "Trať 037  Liberec – Jindřichovice pod Smrkem",
        color: "#D2691E",
        category: "A",
        trains: [
            { name: "Train DC", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/FApj7Eq.png', maxSpeed: 600 },
            { name: "Train DD", startingIndex: 8, reverse: false, image: 'https://i.imgur.com/FApj7Eq.png', maxSpeed: 600 },
            { name: "Train DE", startingIndex: 11, reverse: true, image: 'https://i.imgur.com/FApj7Eq.png', maxSpeed: 600 },
            { name: "Train DF", startingIndex: 15, reverse: false, image: 'https://i.imgur.com/FApj7Eq.png', maxSpeed: 600 },
            
        ],
         stops: [
                { name: "Liberec", location: [50.7615014, 15.0462581] },
                { name: "Stráž nad Nisou", location: [50.7885933, 15.0256242] },
                { name: "Krásná Studánka", location: [50.8013192, 15.0380964] },
                { name: "Mníšek u Liberce", location: [50.8324469, 15.0652350] },
                { name: "Oldřichov v Hájích", location: [50.8552361, 15.0915986] },
                { name: "Raspenava", location: [50.8965303, 15.1304761] },
                { name: "Frýdlant v Čechách", location: [50.9189492, 15.0734025] },
                { name: "Frýdlant v Čechách předměstí", location: [50.9268761, 15.0764914] },
                { name: "Krásný Les bažantnice", location: [50.9307786, 15.1091183] },
                { name: "Krásný Les", location: [50.9376489, 15.1284819] },
                { name: "Řasnice", location: [50.9388656, 15.1510925] },
                { name: "Řasnice zastávka", location: [50.9398728, 15.1628742] },
                { name: "Hajniště", location: [50.9287986, 15.1973275] },
                { name: "Nové Město pod Smrkem", location: [50.9247628, 15.2241822] },
                { name: "Jindřichovice pod Smrkem-Skanzen", location: [50.9590950, 15.2282314] },
                { name: "Jindřichovice pod Smrkem", location: [50.9588128, 15.2542439] },
                
        ]
    }, 

    {
        name: "Trať 040 Chlumec nad Cidlinou – Trutnov",
        color: "blue",
        category: "A",
        trains: [
            { name: "Train DK", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/KpoNEBr.png', maxSpeed: 600 },
            { name: "Train DL", startingIndex: 11, reverse: false, image: 'https://i.imgur.com/HnPatSV.png', maxSpeed: 600 },
            { name: "Train DM", startingIndex: 14, reverse: true, image: 'https://i.imgur.com/KpoNEBr.png', maxSpeed: 600 },
            { name: "Train DN", startingIndex: 27, reverse: false, image: 'https://i.imgur.com/KpoNEBr.png', maxSpeed: 600 },
            { name: "Train DO", startingIndex: 22, reverse: true, image: 'https://i.imgur.com/HnPatSV.png', maxSpeed: 600 },
            
        ],
         stops: [
                { name: "Chlumec nad Cidlinou", location: [50.1635856, 15.4572086] },
                { name: "Luková", location: [50.1900292, 15.4869069] },
                { name: "Zachrašťany", location: [50.2144853, 15.4898444] },
                { name: "Nový Bydžov", location: [50.2448844, 15.4858475] },
                { name: "Skřivany", location: [50.2718772, 15.4988356] },
                { name: "Smidary", location: [50.2949867, 15.4954606] },
                { name: "Ohnišťany", location: [50.3335189, 15.5069389] },
                { name: "Ostroměř", location: [50.3690375, 15.5445756] },
                { name: "Šárovcova Lhota", location: [50.4078864, 15.5610858] },
                { name: "Lázně Bělohrad", location: [50.4261667, 15.5772075] },
                { name: "Horní Nová Ves", location: [50.4503936, 15.5722456] },
                { name: "Nová Paka", location: [50.4865989, 15.5231475] },
                { name: "Nová Paka město", location: [50.4945564, 15.5126028] },
                { name: "Stará Paka", location: [50.5160142, 15.4865933] },
                { name: "Bělá u Staré Paky zastávka", location: [50.5338364, 15.4456311] },
                { name: "Tample", location: [50.5461272, 15.4650775] },
                { name: "Roztoky u Jilemnice", location: [50.5545958, 15.4900150] },
                { name: "Martinice v Krkonoších", location: [50.5807381, 15.5411872] },
                { name: "Horní Branná", location: [50.5967444, 15.5869856] },
                { name: "Kunčice nad Labem", location: [50.5838394, 15.6228189] },
                { name: "Klášterská Lhota", location: [50.5586700, 15.6606464] },
                { name: "Prosečné", location: [50.5475083, 15.6962758] },
                { name: "Hostinné město", location: [50.5392303, 15.7200622] }, 
            { name: "Hostinné", location: [50.5366669, 15.7378339] },
                { name: "Chotěvice", location: [50.5189592, 15.7598400] },
                { name: "Pilníkov", location: [50.5341758, 15.8128356] },
                { name: "Vlčice", location: [50.5466919, 15.8343753] },
                { name: "Trutnov-Volanov", location: [50.5607758, 15.8872719] },
                { name: "Trutnov hlavní nádraží", location: [50.5652047, 15.9111508] },  
        ]
    }, 

    {
        name: "Trať 041 Hradec Králové – Jičín – Turnov",
        color: "green",
        category: "A",
        trains: [
            { name: "Train DP", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/TaoyxXt.png', maxSpeed: 600 },
            { name: "Train DQ", startingIndex: 11, reverse: false, image: 'https://i.imgur.com/TaoyxXt.png', maxSpeed: 600 },
            { name: "Train DR", startingIndex: 14, reverse: true, image: 'https://i.imgur.com/TaoyxXt.png', maxSpeed: 600 },
            { name: "Train DS", startingIndex: 31, reverse: false, image: 'https://i.imgur.com/TaoyxXt.png', maxSpeed: 600 },
            { name: "Train DT", startingIndex: 22, reverse: true, image: 'https://i.imgur.com/TaoyxXt.png', maxSpeed: 600 },
            { name: "Train DU", startingIndex: 22, reverse: false, image: 'https://i.imgur.com/TaoyxXt.png', maxSpeed: 600 },
            
        ],
         stops: [
                { name: "Hradec Králové hlavní nádraží", location: [50.2140617, 15.8101597] },
                { name: "Plotiště nad Labem", location: [50.2354125, 15.7919244] },
                { name: "Všestary", location: [50.2526436, 15.7644731] },
                { name: "Dlouhé Dvory", location: [50.2617225, 15.7258644] },
                { name: "Dohalice", location: [50.2829667, 15.6957436] },
                { name: "Sadová", location: [50.2955247, 15.6939850] },
                { name: "Hněvčeves", location: [50.3124428, 15.7216939] },
                { name: "Cerekvice nad Bystřicí", location: [50.3256456, 15.7166214] },
                { name: "Třebovětice", location: [50.3273164, 15.7038231] },
                { name: "Jeřice", location: [50.3428611, 15.6766444] },
                { name: "Hořice v Podkrkonoší", location: [50.3562928, 15.6349744] },
                { name: "Dobrá Voda u Hořic", location: [50.3459206, 15.6097011] },
                { name: "Ostroměř", location: [50.3690375, 15.5445756] },
                { name: "Sobčice", location: [50.3753206, 15.5187358] },
                { name: "Vojice", location: [50.3844606, 15.4979172] },
                { name: "Kovač", location: [50.3922653, 15.4698678] },
                { name: "Butoves", location: [50.3881456, 15.4248914] },
                { name: "Vitiněves", location: [50.3992692, 15.3806917] },
                { name: "Jičín", location: [50.4305000, 15.3612050] },
                { name: "Jičín zastávka", location: [50.4505692, 15.3809825] },
                { name: "Železnice", location: [50.4625436, 15.3758908] },
                { name: "Jinolice", location: [50.4789847, 15.3351403] },
                { name: "Libuň", location: [50.4902039, 15.3028308] }, 
            { name: "Libuň zastávka", location: [50.5001336, 15.3005114] },
                { name: "Jivany", location: [50.5133933, 15.2993222] },
                { name: "Semínova Lhota", location: [50.5179633, 15.2809686] },
                { name: "Rovensko pod Troskami", location: [50.5317231, 15.2639408] },
                { name: "Ktová", location: [50.5279311, 15.2476244] },
                { name: "Borek pod Troskami", location: [50.5355950, 15.2320728] },  
             { name: "Hrubá Skála", location: [50.5503197, 15.2131394] },
                { name: "Karlovice-Sedmihorky", location: [50.5617789, 15.1964750] },
                { name: "Turnov město", location: [50.5795861, 15.1519956] },
                { name: "Turnov", location: [50.5869217, 15.1388817] },
        ]
    }, 
    
     {
        name: "Trať 018 Choceň  - Litomyšl",    
        color: "violet",
        category: "A",
        trains: [
            { name: "Train AM", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/ngRS3Lg.png', maxSpeed: 500 },
            { name: "Train AN", startingIndex: 13, reverse: false, image: 'https://i.imgur.com/ngRS3Lg.png', maxSpeed: 500 },
            
        ],
        stops: [
              { name: "Choceň", location: [49.9940261, 16.2237836] },
                { name: "Dvořisko", location: [49.9842719, 16.1921578] },
                { name: "Slatina u Vysokého Mýta", location: [49.9750061, 16.1633072] },
                { name: "Vysoké Mýto", location: [49.9554061, 16.1470508] },
                { name: "Vysoké Mýto město", location: [49.9505194, 16.1557178] },
                { name: "Džbánov", location: [49.9251633, 16.1742972] },
                { name: "Hrušová", location: [49.9111786, 16.1966133] },
                { name: "Cerekvice nad Loučnou", location: [49.9057464, 16.2060967] },
                { name: "Cerekvice nad Loučnou zastávka", location: [49.9010314, 16.2185842] },
                { name: "Řídký", location: [49.8919831, 16.2461931] },
                { name: "Tržek", location: [49.8898239, 16.2604122] },
                { name: "Litomyšl-Nedošín", location: [49.8858375, 16.2797869] },
                { name: "Litomyšl zastávka", location: [49.8813667, 16.2927381] },
                { name: "Litomyšl", location: [49.8747864, 16.3040925] },
                ]
    },

    {
        name: "Trať 026 Choceň  - Broumov",    
        color: "green",
        category: "A",
        trains: [
            { name: "Train BJ", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/jXoYbZs.png', maxSpeed: 500 },
            { name: "Train BK", startingIndex: 35, reverse: false, image: 'https://i.imgur.com/jXoYbZs.png', maxSpeed: 500 },
            { name: "Train BL", startingIndex: 10, reverse: true, image: 'https://i.imgur.com/jXoYbZs.png', maxSpeed: 500 },
            { name: "Train BM", startingIndex: 8, reverse: false, image: 'https://i.imgur.com/jXoYbZs.png', maxSpeed: 500 },
            { name: "Train BN", startingIndex: 18, reverse: true, image: 'https://i.imgur.com/jXoYbZs.png', maxSpeed: 500 },
            { name: "Train BO", startingIndex: 19, reverse: false, image: 'https://i.imgur.com/jXoYbZs.png', maxSpeed: 500 },
            { name: "Train BP", startingIndex: 25, reverse: true, image: 'https://i.imgur.com/jXoYbZs.png', maxSpeed: 500 },
            { name: "Train BQ", startingIndex: 26, reverse: false, image: 'https://i.imgur.com/jXoYbZs.png', maxSpeed: 500 },
            
        ],
        stops: [
              { name: "Choceň", location: [49.9940261, 16.2237836] },
                { name: "Újezd u Chocně", location: [50.0318222, 16.1790658] },
                { name: "Plchůvky", location: [50.0387956, 16.1621381] },
                { name: "Čermná nad Orlicí", location: [50.0647889, 16.1358739] },
                { name: "Borohrádek", location: [50.0970689, 16.0856306] },
                { name: "Žďár nad Orlicí", location: [50.1194992, 16.0670794] },
                { name: "Týniště nad Orlicí", location: [50.1549606, 16.0740508] },
                { name: "Bolehošť", location: [50.2146264, 16.0650750] },
                { name: "Očelice", location: [50.2433586, 16.0632764] },
                { name: "Opočno pod Orlickými horami", location: [50.2786828, 16.0857392] },
                { name: "Dobruška", location: [50.2892381, 16.1523858] },
                { name: "Pohoří", location: [50.2917367, 16.0786306] },
                { name: "Bohuslavice nad Metují zastávka", location: [50.3122978, 16.0797481] },
                { name: "Bohuslavice nad Metují", location: [50.3282700, 16.0957661] },
                { name: "Černčice", location: [50.3345300, 16.1056367] },
                { name: "Nové Město nad Metují", location: [50.3534164, 16.1376592] },
                { name: "Václavice", location: [50.3928908, 16.1231803] },
                { name: "Náchod zastávka", location: [50.4083022, 16.1517353] },
                { name: "Náchod", location: [50.4172744, 16.1712247] },
                { name: "Náchod-Běloves", location: [50.4234581, 16.1876356] },
                { name: "Náchod-Malé Poříčí", location: [50.4416808, 16.1926689] },
                { name: "Velké Poříčí", location: [50.4635964, 16.1818753] },
                { name: "Hronov", location: [50.4730417, 16.1768569] },
                { name: "Hronov zastávka", location: [50.4902839, 16.1863003] },
             { name: "Police nad Metují", location: [50.5133706, 16.2118931] },
                { name: "Žďár nad Metují", location: [50.5374183, 16.2042103] },
                { name: "Česká Metuje", location: [50.5528336, 16.1850778] },
                { name: "Dědov", location: [50.5616189, 16.1879578] },
                { name: "Teplice nad Metují", location: [50.5816003, 16.1788217] },
                { name: "Bohdašín", location: [50.5970514, 16.2111464] },
                { name: "Březová u Broumova", location: [50.6048622, 16.2346956] },
                { name: "Meziměstí", location: [50.6266517, 16.2424375] },
                { name: "Ruprechtice", location: [50.6248056, 16.2681314] },
                { name: "Hynčice", location: [50.6243631, 16.2883167] },
                { name: "Broumov-Olivětín", location: [50.6080056, 16.3280200] },
                { name: "Broumov", location: [50.5807419, 16.3395614] },
                ]
    },

    {
        name: "Trať 025 Dolní Lipka - Hanušovice",    
        color: "violet",
        category: "A",
        trains: [
            { name: "Train BI", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/TaoyxXt.png', maxSpeed: 500 },
            
            ],
        stops: [
              { name: "Dolní Lipka", location: [50.0893631, 16.7212239] },
                { name: "Prostřední Lipka", location: [50.0990561, 16.7540264] },
                { name: "Červený Potok", location: [50.1047364, 16.7837772] },
                { name: "Podlesí", location: [50.0900497, 16.8490314] },
                { name: "Vlaské", location: [50.0874825, 16.9001369] },
                { name: "Hanušovice", location: [50.0718042, 16.9293289] },
                
                ]
    },

    {
        name: "Trať 023 Doudleby nad Orlicí – Rokytnice v Orlických horách",    
        color: "brown",
        category: "A",
        trains: [
            { name: "Train BA", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/ngRS3Lg.png', maxSpeed: 500 },
            { name: "Train BB", startingIndex: 6, reverse: false, image: 'https://i.imgur.com/ngRS3Lg.png', maxSpeed: 500 },
            
        ],
        stops: [
              { name: "Doudleby nad Orlicí", location: [50.1093825, 16.2588653] },
                { name: "Vamberk", location: [50.1180153, 16.2829150] },
                { name: "Peklo nad Zdobnicí", location: [50.1220664, 16.3055533] },
                { name: "Rybná nad Zdobnicí", location: [50.1275367, 16.3431167] },
                { name: "Slatina nad Zdobnicí", location: [50.1368294, 16.3777314] },
                { name: "Pěčín", location: [50.1608658, 16.4193553] },
                { name: "Rokytnice v Orlických horách", location: [50.1615867, 16.4652061] },
                
                ]
    },

    {
        name: "Trať 021a Častolovice  - Solnice",    
        color: "violet",
        category: "A",
        trains: [
            { name: "Train AY", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/TaoyxXt.png', maxSpeed: 500 },
            { name: "Train AZ", startingIndex: 7, reverse: false, image: 'https://i.imgur.com/TaoyxXt.png', maxSpeed: 500 },
            
        ],
        stops: [
              { name: "Častolovice", location: [50.1284867, 16.1736050] },
                { name: "Častolovice zastávka", location: [50.1276208, 16.1904964] },
                { name: "Synkov", location: [50.1393586, 16.2185975] },
                { name: "Slemeno", location: [50.1469192, 16.2418556] },
                { name: "Rychnov nad Kněžnou", location: [50.1579322, 16.2736436] },
                { name: "Rychnov nad Kněžnou zastávka", location: [50.1662978, 16.2707272] },
                { name: "Solnice zastávka", location: [50.1999169, 16.2563208] },
                { name: "Solnice", location: [50.2037431, 16.2541275] },
                
                ]
    },
     {
        name: "Trať 017 Česká Třebová  - Prostějov",    
        color: "red",
        category: "A",
        trains: [
            { name: "Train AI", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/FApj7Eq.png', maxSpeed: 500 },
            { name: "Train AJ", startingIndex: 25, reverse: false, image: 'https://i.imgur.com/FApj7Eq.png', maxSpeed: 500 },
            { name: "Train AK", startingIndex: 15, reverse: true, image: 'https://i.imgur.com/FApj7Eq.png', maxSpeed: 500 },
            { name: "Train AL", startingIndex: 13, reverse: false, image: 'https://i.imgur.com/FApj7Eq.png', maxSpeed: 500 },
        ],
        stops: [
              { name: "Česká Třebová", location: [49.8972472, 16.4463578] },
                { name: "Třebovice v Čechách", location: [49.8581008, 16.4975089] },
                { name: "Anenská Studánka", location: [49.8545303, 16.5565547] },
                { name: "Trpík", location: [49.8451461, 16.5697078] },
                { name: "Mladějov na Moravě", location: [49.8251381, 16.5882625] },
                { name: "Kunčina", location: [49.7963181, 16.6378517] },
                { name: "Moravská Třebová", location: [49.7667044, 16.6664733] },
                { name: "Linhartice", location: [49.7519303, 16.7128297] },
                { name: "Rozstání", location: [49.7283744, 16.7307547] },
                { name: "Městečko Trnávka", location: [49.7149964, 16.7246056] },
                { name: "Mezihoří", location: [49.7032967, 16.7420197] },
                { name: "Chornice", location: [49.6770133, 16.7450942] },
                { name: "Nectava", location: [49.6575928, 16.7802239] },
                { name: "Šubířov", location: [49.6266633, 16.8173922] },
                { name: "Dzbel", location: [49.6101761, 16.8482989] },
                { name: "Jesenec", location: [49.6063461, 16.8611144] },
                { name: "Konice", location: [49.5915869, 16.8837222] },
                { name: "Křemenec", location: [49.5725097, 16.9062594] },
                { name: "Čunín", location: [49.5635108, 16.9136600] },
                { name: "Stražisko", location: [49.5424842, 16.9287186] },
                { name: "Ptení", location: [49.5286903, 16.9580744] },
                { name: "Zdětín u Prostějova", location: [49.5283011, 16.9877072] },
                { name: "Lutonín", location: [49.5185203, 17.0310458] },
                { name: "Kostelec na Hané", location: [49.5090675, 17.0650139] },
                { name: "Prostějov místní nádraží", location: [49.4789619, 17.1116714] },
                { name: "Prostějov hlavní nádraží", location: [49.4723550, 17.1295814] },
               
        ]
    },
    {
        name: "Trať 015 Přelouč  - Prachovice",    
        color: "blue",
        category: "A",
        trains: [
            { name: "Train AE", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/qgahT4b.png', maxSpeed: 200 },
            { name: "Train AF", startingIndex: 8, reverse: false, image: 'https://i.imgur.com/qgahT4b.png', maxSpeed: 200 },
        ],
        stops: [
              { name: "Přelouč", location: [50.0396194, 15.5744897] },
                { name: "Valy u Přelouče zastávka", location: [50.0307158, 15.6139642] },
                { name: "Veselí u Přelouče", location: [50.0168572, 15.6233178] },
                { name: "Choltice", location: [49.9894067, 15.6430969] },
                { name: "Jeníkovice", location: [49.9808769, 15.6563225] },
                { name: "Heřmanův Městec", location: [49.9513778, 15.6585378] },
                { name: "Kostelec u Heřmanova Městce zastávka", location: [49.9513778, 15.6585378] },
                { name: "Kostelec u Heřmanova Městce", location: [49.9207708, 15.6512192] },
                { name: "Prachovice", location: [49.8927269, 15.6326036] },
                ]
    },
{
        name: "Trať 016 Borohrádek  - Chrudim",    
        color: "red",
        category: "A",
        trains: [
            { name: "Train AG", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/jXoYbZs.png', maxSpeed: 500 },
            { name: "Train AH", startingIndex: 12, reverse: false, image: 'https://i.imgur.com/jXoYbZs.png', maxSpeed: 500 },
            
        ],
        stops: [
              { name: "Borohrádek", location: [50.0970689, 16.0856306] },
                { name: "Holice zastávka", location: [50.0818883, 16.0343208] },
                { name: "Holice", location: [50.0693511, 15.9925281] },
                { name: "Dolní Roveň", location: [50.0288733, 15.9695167] },
                { name: "Platěnice", location: [50.0089531, 15.9614381] },
                { name: "Moravany", location: [50.0022431, 15.9462853] },
                { name: "Bořice", location: [49.9803658, 15.9222164] },
                { name: "Hrochův Týnec", location: [49.9663353, 15.9082642] },
                { name: "Vejvanovice", location: [49.9730186, 15.8731289] },
                { name: "Úhřetice", location: [49.9774131, 15.8622742] },
                { name: "Tuněchody", location: [49.9744872, 15.8498183] },
                { name: "Chrudim město", location: [49.9577178, 15.7938519] },
                { name: "Chrudim", location: [49.9482764, 15.7867108] },
                
               
        ]
    },

      {
        name: "Trať 290 Olomouc  - Šumperk",    
        color: "green",
        category: "A",
        trains: [ 
            { name: "Train 11", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/0wL4K2Q.png', maxSpeed: 600 },
            { name: "Train 12", startingIndex: 15, reverse: false, image: 'https://i.imgur.com/0wL4K2Q.png', maxSpeed: 600 },
            { name: "Train 13", startingIndex: 7, reverse: true, image: 'https://i.imgur.com/0wL4K2Q.png', maxSpeed: 600 },
            { name: "Train 14", startingIndex: 7, reverse: false, image: 'https://i.imgur.com/0wL4K2Q.png', maxSpeed: 600 },
            
        ],
        stops: [
              { name: "Olomouc Hlavní nádraží", location: [49.5925828, 17.2783775] },
                { name: "Bohuňovice", location: [49.6624297, 17.2811833] },
                { name: "Štarnov", location: [49.6836967, 17.2847500] },
                { name: "Šternberk", location: [49.7205239, 17.2859458] },
                { name: "Babice u Šternberka", location: [49.7411536, 17.2685814] },
                { name: "Mladějovice", location: [49.7583808, 17.2352314] },
                { name: "Újezd u Uničova", location: [49.7751464, 17.1871147] },
                { name: "Uničov zastávka", location: [49.7775422, 17.1451092] },
                { name: "Uničov", location: [49.7792092, 17.1159192] },
                { name: "Troubelice střed", location: [49.8132172, 17.0763244] },
                { name: "Troubelice zastávka", location: [49.8256225, 17.0673064] },
                { name: "Nová Hradečná", location: [49.8357544, 17.0723056] },
                { name: "Libina", location: [49.8785706, 17.0622119] },
                { name: "Hrabišín", location: [49.9080125, 17.0384942] },
                { name: "Nový Malín", location: [49.9458733, 17.0344125] },
                { name: "Šumperk", location: [49.9617958, 16.9831067] },
               
        ]
    },
    {
        name: "Trať 014 Kolín  - Ledečko",    
        color: "red",
        category: "A",
        trains: [
            { name: "Train AA", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/TaoyxXt.png', maxSpeed: 500 },
            { name: "Train AB", startingIndex: 17, reverse: false, image: 'https://i.imgur.com/TaoyxXt.png', maxSpeed: 500 },
            { name: "Train AC", startingIndex: 8, reverse: true, image: 'https://i.imgur.com/TaoyxXt.png', maxSpeed: 500 },
            { name: "Train AD", startingIndex: 9, reverse: false, image: 'https://i.imgur.com/TaoyxXt.png', maxSpeed: 500 },
        ],
        stops: [
              { name: "Kolín", location: [50.0252381, 15.2142544] },
                { name: "Kolín místní nádraží", location: [50.0153044, 15.2230378] },
                { name: "Hluboký Důl", location: [50.0022239, 15.2185411] },
                { name: "Červené Pečky", location: [49.9879494, 15.2069589] },
                { name: "Ratboř", location: [49.9815942, 15.1603700] },
                { name: "Kořenice", location: [49.9731675, 15.1385831] },
                { name: "Chotouchov", location: [49.9704436, 15.1212339] },
                { name: "Pučery", location: [49.9672928, 15.1057425] },
                { name: "Bečváry", location: [49.9560622, 15.0710583] },
                { name: "Drahobudice", location: [49.9366761, 15.0626889] },
                { name: "Hatě", location: [49.9138069, 15.0580178] },
                { name: "Chmeliště", location: [49.8957100, 15.0563422] },
                { name: "Uhlířské Janovice", location: [49.8823167, 15.0597983] },
                { name: "Mitrov", location: [49.8657836, 15.0484458] },
                { name: "Mirošovice u Rataj nad Sázavou", location: [49.8603744, 15.0047864] },
                { name: "Rataje nad Sázavou předměstí", location: [49.8495789, 14.9788906] },
                { name: "Rataje nad Sázavou", location: [49.8436853, 14.9507675] },
                { name: "Ledečko", location: [49.8472978, 14.9321356] },
                ]
    },

          {
        name: "Trať ZSSK 145 Horná Štubňa - Prievidza",    
        color: "green",
        category: "A",      
        trains: [
            { name: "Train 15", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/nAWghTJ.png', maxSpeed: 600 },
            { name: "Train 16", startingIndex: 7, reverse: false, image: 'https://i.imgur.com/nAWghTJ.png', maxSpeed: 600 },
            ],
        stops: [
              { name: "Horná Štubňa", location: [48.7927947, 18.8818092] },
                { name: "Sklené pri Handlovej", location: [48.7827594, 18.8423286] },
                { name: "Remäta", location: [48.7529411, 18.8051108] },
                { name: "Handlová", location: [48.7254917, 18.7541539] },
                { name: "Ráztočno", location: [48.7679444, 18.7626331] },
                { name: "Jalovec", location: [48.7727233, 18.7456547] },
                { name: "Chrenovec", location: [48.7780800, 18.7127303] },
                { name: "Prievidza", location: [48.7748283, 18.6167244] },
                
               
        ]
    },  
    
    {
        name: "Trať 010 Kolín - Česká Třebová",    
        color: "yellow",
        category: "B",
        trains: [
            { name: "Train 17", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/FApj7Eq.png', maxSpeed: 600 },
            { name: "Train 18", startingIndex: 7, reverse: false, image: 'https://i.imgur.com/FApj7Eq.png', maxSpeed: 600 },
            { name: "Train 19", startingIndex: 8, reverse: true, image: 'https://i.imgur.com/FApj7Eq.png', maxSpeed: 600 },
            { name: "Train 20", startingIndex: 15, reverse: true, image: 'https://i.imgur.com/FApj7Eq.png', maxSpeed: 600 },
            { name: "Train 21", startingIndex: 16, reverse: false, image: 'https://i.imgur.com/FApj7Eq.png', maxSpeed: 600 },
            { name: "Train 22", startingIndex: 23, reverse: false, image: 'https://i.imgur.com/FApj7Eq.png', maxSpeed: 600 },
            { name: "Train 23", startingIndex: 23, reverse: true, image: 'https://i.imgur.com/FApj7Eq.png', maxSpeed: 600 },
            { name: "Train 24", startingIndex: 28, reverse: false, image: 'https://i.imgur.com/FApj7Eq.png', maxSpeed: 600 },
            ],
              
        stops: [
              { name: "Kolín", location: [50.0252381, 15.2142544] },
                { name: "Kolín Dílny", location: [50.0117758, 15.2338533] },
                { name: "Starý Kolín", location: [50.0110397, 15.2951967] },
                { name: "Záboří nad Labem", location: [50.0310097, 15.3490239] },
                { name: "Týnec nad Labem", location: [50.0373956, 15.3591994] },
                { name: "Kojice", location: [50.0405578, 15.3979206] },
                { name: "Chvaletice", location: [50.0374603, 15.4186744] },
                { name: "Řečany nad Labem", location: [50.0317497, 15.4783706] },
                { name: "Lhota pod Přeloučí", location: [50.0365714, 15.5267486] },
                { name: "Přelouč", location: [50.0396194, 15.5744897] },
                { name: "Valy u Přelouče", location: [50.0319747, 15.6140661] },
                { name: "Pardubice-Opočínek", location: [50.0304261, 15.6698569] },
                { name: "Pardubice-Svítkov", location: [50.0319253, 15.7237300] },
                { name: "Pardubice hlavní nádraží", location: [50.0318908, 15.7563753] },
                { name: "Pardubice-Pardubičky", location: [50.0312119, 15.7890586] },
                { name: "Pardubice-Černá za Bory", location: [50.0274467, 15.8305319] },
                { name: "Kostěnice", location: [50.0128861, 15.8975467] }, 
                { name: "Moravany", location: [50.0022431, 15.9462853] },
                { name: "Uhersko", location: [49.9873542, 16.0149956] }, 
                { name: "Sedlíšťka", location: [49.9900969, 16.0646381] }, 
                { name: "Zámrsk", location: [49.9949797, 16.1087169] },
                { name: "Dobříkov u Chocně", location: [49.9959106, 16.1357575] }, 
                { name: "Sruby", location: [49.9898339, 16.1711558] },
                { name: "Choceň", location: [49.9940261, 16.2237836] },
                { name: "Brandýs nad Orlicí", location: [49.9996833, 16.2852631] },
                { name: "Ústí nad Orlicí", location: [49.9711233, 16.3780250] }, 
                { name: "Ústí nad Orlicí město", location: [49.9711233, 16.3780250] },
                { name: "Dlouhá Třebová", location: [49.9356842, 16.4225675] },
                { name: "Česká Třebová", location: [49.8972472, 16.4463578] },
                 ]
    },
     {
        name: "Trať 160 Plzeň  - Žatec",    
        color: "red",
        category: "A",
        trains: [
            { name: "Train 25", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/jXoYbZs.png', maxSpeed: 600 },
            { name: "Train 26", startingIndex: 28, reverse: false, image: 'https://i.imgur.com/jXoYbZs.png', maxSpeed: 600 },
            { name: "Train 27", startingIndex: 7, reverse: true, image: 'https://i.imgur.com/jXoYbZs.png', maxSpeed: 600 },
            { name: "Train 28", startingIndex: 7, reverse: false, image: 'https://i.imgur.com/jXoYbZs.png', maxSpeed: 600 },
            { name: "Train 29", startingIndex: 14, reverse: false, image: 'https://i.imgur.com/jXoYbZs.png', maxSpeed: 600 },
            { name: "Train 30", startingIndex: 14, reverse: true, image: 'https://i.imgur.com/jXoYbZs.png', maxSpeed: 600 },
            { name: "Train 31", startingIndex: 21, reverse: true, image: 'https://i.imgur.com/jXoYbZs.png', maxSpeed: 600 },
            { name: "Train 32", startingIndex: 21, reverse: false, image: 'https://i.imgur.com/jXoYbZs.png', maxSpeed: 600 },
        ],
        stops: [
              { name: "Plzeň Hlavní nádraží", location: [49.7435456, 13.3880578] },
                { name: "Plzeň - Bílá Hora", location: [49.7683450, 13.4003153] },
                { name: "Plzeň - Bolevec", location: [49.7857933, 13.3857556] },
                { name: "Plzeň - Orlík", location: [49.8039628, 13.3962497] },
                { name: "Třemošná u Plzně", location: [49.8191147, 13.3945733] },
                { name: "Horní Bříza zastávka", location: [49.8382186, 13.3589772] },
                { name: "Horní Bříza", location: [49.8509025, 13.3796264] },
                { name: "Obora u Kaznějova", location: [49.8714256, 13.4028406] },
                { name: "Kaznějov", location: [49.8938178, 13.3749475] },
                { name: "Plasy", location: [49.9309158, 13.3796111] },
                { name: "Horní Hradiště", location: [49.9474067, 13.3627186] },
                { name: "Mladotice zastávka", location: [49.9718208, 13.3462792] },
                { name: "Mladotice", location: [49.9866828, 13.3639575] },
                { name: "Potvorov", location: [50.0237808, 13.3747350] },
                { name: "Žihle", location: [50.0467872, 13.3628236] },
                { name: "Pastuchovice", location: [50.0713739, 13.3943872] },
                { name: "Blatno u Jesenice", location: [50.0999069, 13.3900872] },
                { name: "Stebno", location: [50.1196172, 13.4126733] },
                { name: "Petrohrad", location: [50.1352617, 13.4340364] },
                { name: "Kryry", location: [50.1688081, 13.4228631] },
                { name: "Vroutek", location: [50.1840247, 13.3740119] },
                { name: "Podbořany", location: [50.2235414, 13.4043303] },
                { name: "Kaštice", location: [50.2616425, 13.4179258] },
                { name: "Kněžice", location: [50.2894319, 13.4266811] },
                { name: "Čejkovice", location: [50.3076292, 13.4256811] },
                { name: "Žabokliky", location: [50.3299578, 13.4647575] },
                { name: "Libočany", location: [50.3303128, 13.5152047] },
                { name: "Žatec západ", location: [50.3380775, 13.5350008] },
                { name: "Žatec", location: [50.3366203, 13.5552453] },
               
        ]
    }, 
    {
    name: "Trať 011 Praha - Kolín",
        color: "blue",
        category: "A",
        trains: [
            { name: "Train 33", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/tw5kV39.png', maxSpeed: 600 },
            { name: "Train 34", startingIndex: 8, reverse: false, image: 'https://i.imgur.com/tw5kV39.png', maxSpeed: 600 },
            { name: "Train 35", startingIndex: 14, reverse: true, image: 'https://i.imgur.com/tw5kV39.png', maxSpeed: 600 },
            { name: "Train 36", startingIndex: 19, reverse: false, image: 'https://i.imgur.com/tw5kV39.png', maxSpeed: 600 },
            { name: "Train 37", startingIndex: 7, reverse: true, image: 'https://i.imgur.com/tw5kV39.png', maxSpeed: 600 },
            
        ],
         stops: [
                { name: "Praha hlavní nádraží", location: [50.0829886, 14.4369822] },
                { name: "Praha-Libeň", location: [50.1009750, 14.5013742] },
                { name: "Praha-Kyje", location: [50.0975419, 14.5432331] },
                { name: "Praha-Dolní Počernice", location: [50.0882758, 14.5693342] },
                { name: "Praha-Běchovice", location: [50.0821153, 14.5981122] },
                { name: "Praha-Běchovice střed", location: [50.0836219, 14.6155472] },
                { name: "Praha-Klánovice", location: [50.0871467, 14.6634797] },
                { name: "Úvaly", location: [50.0746650, 14.7230769] },
                { name: "Tuklaty", location: [50.0769919, 14.7706719] },
                { name: "Rostoklaty", location: [50.0786781, 14.8059483] },
                { name: "Český Brod", location: [50.0766603, 14.8660794] },
                { name: "Klučov", location: [50.0946428, 14.9038533] },
                { name: "Poříčany", location: [50.1112289, 14.9223908] },
                { name: "Tatce", location: [50.0995408, 14.9842806] },
                { name: "Pečky", location: [50.0897636, 15.0275592] },
                { name: "Cerhenice", location: [50.0781517, 15.0784969] },
                { name: "Velim", location: [50.0676194, 15.1247731] },
                { name: "Nová Ves u Kolína", location: [50.0550461, 15.1506739] },
                { name: "Kolín zastávka", location: [50.0306856, 15.1953050] },
                { name: "Kolín", location: [50.0252381, 15.2142544] },
                 
        ]
    }, 

         {
        name: "Trať 012 Pečky - Kouřim - Bečváry",    
        color: "green",
        category: "A",      
        trains: [
            { name: "Train 38", startingIndex: 0, reverse: false, image: 'https://i.imgur.com/neFFZgt.png', maxSpeed: 600 },
            { name: "Train 39", startingIndex: 7, reverse: false, image: 'https://i.imgur.com/neFFZgt.png', maxSpeed: 600 },
            { name: "Train 40", startingIndex: 14, reverse: false, image: 'https://i.imgur.com/neFFZgt.png', maxSpeed: 600 },
            { name: "Train 41", startingIndex: 7, reverse: true, image: 'https://i.imgur.com/neFFZgt.png', maxSpeed: 600 },
            ],
        stops: [
                { name: "Pečky", location: [50.0897636, 15.0275592] },
                { name: "Radim", location: [50.0735283, 15.0075103] },
                { name: "Chotutice", location: [50.0715103, 14.9964619] },
                { name: "Chroustov", location: [50.0649261, 14.9973392] },
                { name: "Vrbčany", location: [50.0546722, 15.0003767] },
                { name: "Plaňany", location: [50.0494500, 15.0161972] },
                { name: "Plaňany zastávka", location: [50.0455894, 15.0239439] },
                { name: "Žabonosy", location: [50.0396194, 15.0241231] },
                { name: "Zalešany", location: [50.0349389, 15.0084142] },
                { name: "Bošice", location: [50.0152817, 15.0153122] },
                { name: "Kouřim", location: [50.0056572, 14.9877950] },
                { name: "Votelež", location: [49.9997339, 15.0125294] },
                { name: "Toušice", location: [49.9852383, 15.0151517] },
                { name: "Zásmuky", location: [49.9626142, 15.0317814] },
                { name: "Bečváry", location: [49.9560622, 15.0710583] },
                ]
    },  
    
    // Další linky můžete přidávat podle potřeby
];

// Inicializace mapy Leaflet
const map = L.map('map').setView([49.25, 13.91], 11);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '© OpenStreetMap contributors'
}).addTo(map);

// Skrytí linek na začátku hry
lines.forEach(line => {
    line.hidden = true;
    availableLines.push(line);
});

function showRandomOffer() {
    const randomLineIndex = Math.floor(Math.random() * availableLines.length);
    const offerLine = availableLines[randomLineIndex];

    let offerPrice, earningMin, earningMax;

    switch (offerLine.category) {
        case "A":
            offerPrice = Math.floor(Math.random() * (10000 - 5000 + 1)) + 5000;
            earningMin = 100;
            earningMax = 200;
            break;
        case "B":
            offerPrice = Math.floor(Math.random() * (50000 - 30000 + 1)) + 30000;
            earningMin = 300;
            earningMax = 500;
            break;
        case "C":
            offerPrice = Math.floor(Math.random() * (100000 - 80000 + 1)) + 80000;
            earningMin = 500;
            earningMax = 800;
            break;
        case "D":
            offerPrice = Math.floor(Math.random() * (200000 - 180000 + 1)) + 180000;
            earningMin = 1000;
            earningMax = 1500;
            break;
        default:
            offerPrice = 0;
            earningMin = 0;
            earningMax = 0;
            break;
    }

     if (confirm(`Herní drážní úřad nabízí provozování linky: ${offerLine.name} za ${offerPrice} Kč. Chcete ji koupit?`)) {
        if (playerFinance >= offerPrice) {
            playerFinance -= offerPrice;
            document.getElementById('finance').innerText = `Finance: ${playerFinance} Kč`;

            offerLine.hidden = false;
            availableLines.splice(randomLineIndex, 1);

            // Přidání ikon a logiky pro nově zakoupenou linku
            let polyline = L.polyline(offerLine.stops.map(stop => stop.location), { color: offerLine.color }).addTo(map);
            polyline.bindPopup(offerLine.name);

            offerLine.trains.forEach(train => {
                let trainIcon = L.icon({
                    iconUrl: train.image,
                    iconSize: [100, 100],
                    iconAnchor: [50, 50],
                    popupAnchor: [0, 0]
                });

                let trainMarker = L.marker(offerLine.stops[train.startingIndex].location, { icon: trainIcon }).addTo(map);
                trainMarker.bindPopup(train.name);

                train.marker = trainMarker; // Uložení markeru do dat vlaku

                // Spuštění pohybu vlaků na nové lince
                moveTrain(train, offerLine);
            });

            offerLine.stops.forEach(stop => {
                L.marker(stop.location, { icon: stopIcon }).addTo(map).bindPopup(stop.name);
            });
        } else {
            alert("Nemáte dostatek financí na zakoupení této linky.");
        }
    }
}
    
function moveTrain(train, line) {
    let currentStopIndex = train.startingIndex;
    let direction = train.reverse ? -1 : 1; // Směr pohybu vlaku (1 = dopředu, -1 = zpět)
    let startTime = new Date();

    setInterval(() => {
        const currentStop = line.stops[currentStopIndex];
        const nextStop = line.stops[currentStopIndex + direction];

        if (nextStop) {
            const distanceToNextStop = getDistance(currentStop.location[0], currentStop.location[1], nextStop.location[0], nextStop.location[1]);
            const timeToNextStop = distanceToNextStop / train.maxSpeed; // Vypočítat čas na základě maxSpeed vlaku

            const currentTime = new Date();
            const elapsedTime = (currentTime - startTime) / 1000 / 60 / 60;

            if (elapsedTime <= timeToNextStop) {
                const lat = currentStop.location[0] + (nextStop.location[0] - currentStop.location[0]) * (elapsedTime / timeToNextStop);
                const lon = currentStop.location[1] + (nextStop.location[1] - currentStop.location[1]) * (elapsedTime / timeToNextStop);
                train.marker.setLatLng([lat, lon]);
            } else {
                currentStopIndex += direction;
                startTime = new Date();

                if (currentStopIndex === 0 || currentStopIndex === line.stops.length - 1) {
                    direction *= -1;
                    giveRandomMoneyToPlayer(line.category);
                }
            }
        } else {
            direction *= -1;
            currentStopIndex += direction;
            giveRandomMoneyToPlayer(line.category);
        }
    }, updateInterval);
}
    // Spuštění nabídek od herního drážního úřadu každou minutu
setInterval(showRandomOffer, offerInterval);

    
// Funkce pro udělení náhodné finanční částky hráči při dosažení zastávky
function giveRandomMoneyToPlayer(category) {
    const randomAmount = generateRandomAmount(category);
    playerFinance += randomAmount;
    document.getElementById('finance').innerText = `Finance: ${playerFinance} Kč`;
}

function generateRandomAmount(category) {
    let earningMin, earningMax;

    switch (category) {
        case "A":
            earningMin = 500;
            earningMax = 800;
            break;
        case "B":
            earningMin = 2000;
            earningMax = 2500;
            break;
        case "C":
            earningMin = 7000;
            earningMax = 10000;
            break;
        case "D":
            earningMin = 10000;
            earningMax = 15000;
            break;
        default:
            earningMin = 0;
            earningMax = 0;
            break;
    }

    return Math.floor(Math.random() * (earningMax - earningMin + 1)) + earningMin;
}



// Vypočítá vzdálenost mezi dvěma zastávkami
function getDistance(lat1, lon1, lat2, lon2) {
    const R = 6371; // poloměr Země v km
    const dLat = toRadians(lat2 - lat1);
    const dLon = toRadians(lon2 - lon1);
    const a =
        Math.sin(dLat / 2) * Math.sin(dLat / 2) +
        Math.cos(toRadians(lat1)) * Math.cos(toRadians(lat2)) *
        Math.sin(dLon / 2) * Math.sin(dLon / 2);
    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
    const distance = R * c; // vzdálenost v km
    return distance;
}

// Převádí stupně na radiány
function toRadians(degrees) {
    return degrees * Math.PI / 180;
}

</script>

</body>
</html>
